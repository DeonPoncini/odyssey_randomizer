use crate::kingdom::{Kingdoms, KingdomName};
use crate::state::State;

pub type MoonID = usize;

pub struct Moon {
    name: String,
    count: u16,
    kingdom: KingdomName,
    prerequisite_kingdoms: Vec<(KingdomName, u8)>,
    prerequisite_moons: Vec<MoonID>,
}

impl Moon {
    fn new(name: &str, kingdom: KingdomName) -> Self {
        Moon {
            name: String::from(name),
            count: 1,
            kingdom: kingdom,
            prerequisite_kingdoms: Vec::new(),
            prerequisite_moons: Vec::new(),
        }
    }

    fn new_multi(name: &str, kingdom: KingdomName) -> Self {
        Moon {
            name: String::from(name),
            count: 3,
            kingdom: kingdom,
            prerequisite_kingdoms: Vec::new(),
            prerequisite_moons: Vec::new(),
        }
    }

    fn add_prereq_kingdom(&mut self, kingdom: KingdomName) {
        self.prerequisite_kingdoms.push((kingdom, 1));
    }

    fn add_prereq_kingdom_count(&mut self, kingdom: KingdomName, visited: u8) {
        self.prerequisite_kingdoms.push((kingdom, visited));
    }

    fn add_prereq_moon(&mut self, moon: MoonID) {
        self.prerequisite_moons.push(moon);
    }

    pub fn name(&self) -> &str {
        &self.name
    }

    pub fn kingdom(&self) -> KingdomName {
        self.kingdom
    }

    pub fn count(&self) -> u16 {
        self.count
    }

    pub fn available(&self, state: &State) -> bool {
        // current kingdom has to be the kingdom this moon is in
        if state.current_kingdom() != self.kingdom {
            return false;
        }

        // all prerequisite kingdoms must be scheduled
        for (p, c) in &self.prerequisite_kingdoms {
            if !state.kingdom_scheduled(*p, *c) {
                return false;
            }
        }

        // all prerequisite moons must be scheduled
        for p in &self.prerequisite_moons {
            if !state.moon_scheduled(*p) {
                return false;
            }
        }

        true
    }
}

pub struct Moons {
    moons: Vec<Moon>,
    offset: Vec<(usize, usize)>,
    ids: Vec<MoonID>,
}

impl Moons {
    pub fn moon(&self, id: MoonID) -> &Moon {
        &self.moons[id]
    }

    pub fn return_available(&mut self, state: &mut State) -> Vec<MoonID> {
        let kingdom = state.current_kingdom();
        let (s, e) = self.offset[kingdom as usize];
        if s == e {
            // no moons left in kingdom
            state.complete_kingdom(kingdom);
            return Vec::new();
        }

        // go from start to end, check availability
        let mut ret = Vec::new();
        let mut swap_point = s;
        for x in s..e {
            let id = self.ids[x];
            if self.moons[id].available(&state) {
                ret.push(id);
                // swap x with start
                self.ids[x] = self.ids[swap_point];
                self.ids[swap_point] = id;
                swap_point += 1;
            }
        }

        // finally update start by the amount copied out
        let new_s = swap_point;
        self.offset[kingdom as usize] = (new_s, e);
        ret
    }

    pub fn new(kingdoms: &mut Kingdoms) -> Self {
        let mut moons = Vec::new();
        let mut offset = Vec::new();
        // cap kingdom
        let cap1 = moons.len();
        moons.push(Moon::new("Frog-Jumping Above the Fog", KingdomName::Cap));
        moons[cap1].add_prereq_kingdom(KingdomName::Cascade);
        let cap2 = moons.len();
        moons.push(Moon::new("Frog-Jumping from the Top Deck", KingdomName::Cap));
        moons[cap2].add_prereq_kingdom(KingdomName::Cascade);
        let cap3 = moons.len();
        moons.push(Moon::new("Cap Kingdom Timer Challenge 1", KingdomName::Cap));
        moons[cap3].add_prereq_kingdom(KingdomName::Cascade);
        let cap4 = moons.len();
        moons.push(Moon::new("Good Evening, Captain Toad!", KingdomName::Cap));
        moons[cap4].add_prereq_kingdom(KingdomName::Cascade);
        let cap5 = moons.len();
        moons.push(Moon::new("Shopping in Bonneton", KingdomName::Cap));
        moons[cap5].add_prereq_kingdom(KingdomName::Cascade);
        let cap6 = moons.len();
        moons.push(Moon::new("Skimming the Poison Tide", KingdomName::Cap));
        moons[cap6].add_prereq_kingdom(KingdomName::Cascade);
        let cap7 = moons.len();
        moons.push(Moon::new("Slipping Through the Poison Tide", KingdomName::Cap));
        moons[cap7].add_prereq_kingdom(KingdomName::Cascade);
        let cap8 = moons.len();
        moons.push(Moon::new("Push-Block Peril", KingdomName::Cap));
        moons[cap8].add_prereq_kingdom(KingdomName::Cascade);
        let cap9 = moons.len();
        moons.push(Moon::new("Hidden Among the Push-Blocks", KingdomName::Cap));
        moons[cap9].add_prereq_kingdom(KingdomName::Cascade);
        let cap10 = moons.len();
        moons.push(Moon::new("Searching the Frog Pond", KingdomName::Cap));
        moons[cap10].add_prereq_kingdom(KingdomName::Cascade);
        let cap11 = moons.len();
        moons.push(Moon::new("Secrets of the Frog Pond", KingdomName::Cap));
        moons[cap11].add_prereq_kingdom(KingdomName::Cascade);
        let cap12 = moons.len();
        moons.push(Moon::new("The Forgotten Treasure", KingdomName::Cap));
        moons[cap12].add_prereq_kingdom(KingdomName::Mushroom);
        let cap13 = moons.len();
        moons.push(Moon::new("Taxi Flying Through Bonneton", KingdomName::Cap));
        moons[cap13].add_prereq_kingdom(KingdomName::Mushroom);
        let cap14 = moons.len();
        moons.push(Moon::new("Bonneter Blockade", KingdomName::Cap));
        moons[cap14].add_prereq_kingdom(KingdomName::Mushroom);
        let cap15 = moons.len();
        moons.push(Moon::new("Cap Kingdom Regular Cup", KingdomName::Cap));
        moons[cap15].add_prereq_kingdom(KingdomName::Mushroom);
        let cap16 = moons.len();
        moons.push(Moon::new("Peach in the Cap Kingdom", KingdomName::Cap));
        moons[cap16].add_prereq_kingdom(KingdomName::Mushroom);
        let cap18 = moons.len();
        moons.push(Moon::new("Next to Glasses Bridge", KingdomName::Cap));
        moons[cap18].add_prereq_kingdom(KingdomName::Mushroom);
        let cap19 = moons.len();
        moons.push(Moon::new("Danger Sign", KingdomName::Cap));
        moons[cap19].add_prereq_kingdom(KingdomName::Mushroom);
        let cap20 = moons.len();
        moons.push(Moon::new("Under the Big One's Brim", KingdomName::Cap));
        moons[cap20].add_prereq_kingdom(KingdomName::Mushroom);
        let cap21 = moons.len();
        moons.push(Moon::new("Fly to the Edge of the Fog", KingdomName::Cap));
        moons[cap21].add_prereq_kingdom(KingdomName::Mushroom);
        let cap22 = moons.len();
        moons.push(Moon::new("Spin the Hat, Get a Prize", KingdomName::Cap));
        moons[cap22].add_prereq_kingdom(KingdomName::Mushroom);
        let cap23 = moons.len();
        moons.push(Moon::new("Hidden in a Sunken Hat", KingdomName::Cap));
        moons[cap23].add_prereq_kingdom(KingdomName::Mushroom);
        let cap24 = moons.len();
        moons.push(Moon::new("Fog-Shrouded Platform", KingdomName::Cap));
        moons[cap24].add_prereq_kingdom(KingdomName::Mushroom);
        let cap25 = moons.len();
        moons.push(Moon::new("Fog-Shrouded Platform", KingdomName::Cap));
        moons[cap25].add_prereq_kingdom(KingdomName::Mushroom);
        let cap26 = moons.len();
        moons.push(Moon::new("Caught Hopping Near the Ship!", KingdomName::Cap));
        moons[cap26].add_prereq_kingdom(KingdomName::Mushroom);
        let cap27 = moons.len();
        moons.push(Moon::new("Taking Notes: In the Fog", KingdomName::Cap));
        moons[cap27].add_prereq_kingdom(KingdomName::Mushroom);
        let cap28 = moons.len();
        moons.push(Moon::new("Cap Kingdom Timer Challenge 2", KingdomName::Cap));
        moons[cap28].add_prereq_kingdom(KingdomName::Mushroom);
        let cap29 = moons.len();
        moons.push(Moon::new("Cap Kingdom Master Cup", KingdomName::Cap));
        moons[cap29].add_prereq_kingdom(KingdomName::Mushroom);
        moons[cap29].add_prereq_moon(cap15);
        let cap30 = moons.len();
        moons.push(Moon::new("Roll On and On", KingdomName::Cap));
        moons[cap30].add_prereq_kingdom(KingdomName::Mushroom);
        let cap31 = moons.len();
        moons.push(Moon::new("Precision Rolling", KingdomName::Cap));
        moons[cap31].add_prereq_kingdom(KingdomName::Mushroom);
        offset.push((cap1, moons.len()));

        // cascade kingdom
        let cascade1 = moons.len();
        moons.push(Moon::new("Our First Power Moon", KingdomName::Cascade));
        let cascade2 = moons.len();
        moons.push(Moon::new_multi("Multi Moon Atop the Falls", KingdomName::Cascade));
        moons[cascade2].add_prereq_moon(cascade1);
        kingdoms.kingdom_mut(KingdomName::Cascade).set_exit_moon(cascade2);
        let cascade3 = moons.len();
        moons.push(Moon::new("Chomp Through the Rocks", KingdomName::Cascade));
        moons[cascade3].add_prereq_moon(cascade1);
        let cascade4 = moons.len();
        moons.push(Moon::new("Behind the Waterfall", KingdomName::Cascade));
        moons[cascade4].add_prereq_moon(cascade1);
        let cascade5 = moons.len();
        moons.push(Moon::new("On Top of the Rubble", KingdomName::Cascade));
        moons[cascade5].add_prereq_moon(cascade2);
        let cascade6 = moons.len();
        moons.push(Moon::new("Treasure of the Waterfall Basin", KingdomName::Cascade));
        moons[cascade6].add_prereq_moon(cascade2);
        let cascade7 = moons.len();
        moons.push(Moon::new("Above a High Cliff", KingdomName::Cascade));
        moons[cascade7].add_prereq_moon(cascade2);
        let cascade8 = moons.len();
        moons.push(Moon::new("Across the Floating Isles", KingdomName::Cascade));
        moons[cascade8].add_prereq_moon(cascade2);
        let cascade9 = moons.len();
        moons.push(Moon::new("Cascade Kingdom Timer Challenge 1", KingdomName::Cascade));
        moons[cascade9].add_prereq_moon(cascade2);
        let cascade10 = moons.len();
        moons.push(Moon::new("Cascade Kingdom Timer Challenge 2", KingdomName::Cascade));
        moons[cascade10].add_prereq_moon(cascade2);
        let cascade11 = moons.len();
        moons.push(Moon::new("Good Morning, Captain Toad!", KingdomName::Cascade));
        moons[cascade11].add_prereq_moon(cascade2);
        let cascade12 = moons.len();
        moons.push(Moon::new("Dinosaur Nest: Big Cleanup!", KingdomName::Cascade));
        moons[cascade12].add_prereq_moon(cascade2);
        let cascade13 = moons.len();
        moons.push(Moon::new("Dinosaur Nest: Running Wild!", KingdomName::Cascade));
        moons[cascade13].add_prereq_moon(cascade2);
        let cascade14 = moons.len();
        moons.push(Moon::new("Nice Shot with the Chain Chomp!", KingdomName::Cascade));
        moons[cascade14].add_prereq_moon(cascade2);
        let cascade15 = moons.len();
        moons.push(Moon::new("Very Nice Shot with the Chain Chomp!", KingdomName::Cascade));
        moons[cascade15].add_prereq_moon(cascade2);
        let cascade16 = moons.len();
        moons.push(Moon::new("Past the Chasm Lifts", KingdomName::Cascade));
        moons[cascade16].add_prereq_moon(cascade2);
        let cascade17 = moons.len();
        moons.push(Moon::new("Hidden Chasm Passage", KingdomName::Cascade));
        moons[cascade17].add_prereq_moon(cascade2);
        let cascade18 = moons.len();
        moons.push(Moon::new("Secret Path to Fossil Falls", KingdomName::Cascade));
        let cascade19 = moons.len();
        moons.push(Moon::new("A Tourist in the Cascade Kingdom", KingdomName::Cascade));
        let cascade20 = moons.len();
        moons.push(Moon::new("Rolling Rock by the Falls", KingdomName::Cascade));
        moons[cascade20].add_prereq_kingdom_count(KingdomName::Cascade, 2);
        let cascade21 = moons.len();
        moons.push(Moon::new("Peach in the Cascade Kingdom", KingdomName::Cascade));
        moons[cascade21].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade22 = moons.len();
        moons.push(Moon::new("Cascade Kingdom Regular Cup", KingdomName::Cascade));
        moons[cascade22].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade23 = moons.len();
        moons.push(Moon::new("Caveman Cave-Fan", KingdomName::Cascade));
        moons[cascade23].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade24 = moons.len();
        moons.push(Moon::new("Shopping in Fossil Falls", KingdomName::Cascade));
        moons[cascade24].add_prereq_kingdom_count(KingdomName::Cascade, 2);
        let cascade25 = moons.len();
        moons.push(Moon::new("Sphynx Traveling to the Waterfall", KingdomName::Cascade));
        moons[cascade25].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade26 = moons.len();
        moons.push(Moon::new("Bottom of the Waterfall Basin", KingdomName::Cascade));
        moons[cascade26].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade27 = moons.len();
        moons.push(Moon::new("Just a Hat, Skip, and a Jump", KingdomName::Cascade));
        moons[cascade27].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade28 = moons.len();
        moons.push(Moon::new("Treasure Under the Cliff", KingdomName::Cascade));
        moons[cascade28].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade29 = moons.len();
        moons.push(Moon::new("Next to the Stone Arch", KingdomName::Cascade));
        moons[cascade29].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade30 = moons.len();
        moons.push(Moon::new("Guarded by a Colossal Fossil", KingdomName::Cascade));
        moons[cascade30].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade31 = moons.len();
        moons.push(Moon::new("Under the Old Electrical Pole", KingdomName::Cascade));
        moons[cascade31].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade32 = moons.len();
        moons.push(Moon::new("Under the Ground", KingdomName::Cascade));
        moons[cascade32].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade33 = moons.len();
        moons.push(Moon::new("Inside the Busted Fossil", KingdomName::Cascade));
        moons[cascade33].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade34 = moons.len();
        moons.push(Moon::new("Caught Hopping at the Waterfall", KingdomName::Cascade));
        moons[cascade34].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade35 = moons.len();
        moons.push(Moon::new("Taking Notes: Hurry Upward", KingdomName::Cascade));
        moons[cascade35].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade36 = moons.len();
        moons.push(Moon::new("Cascade Kingdom Master Cup", KingdomName::Cascade));
        moons[cascade36].add_prereq_kingdom(KingdomName::Mushroom);
        moons[cascade22].add_prereq_moon(cascade22);
        let cascade37 = moons.len();
        moons.push(Moon::new("Across the Mysterious Clouds", KingdomName::Cascade));
        moons[cascade37].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade38 = moons.len();
        moons.push(Moon::new("Atop a Wall Among the Clouds", KingdomName::Cascade));
        moons[cascade38].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade39 = moons.len();
        moons.push(Moon::new("Across the Gusty Bridges", KingdomName::Cascade));
        moons[cascade39].add_prereq_kingdom(KingdomName::Mushroom);
        let cascade40 = moons.len();
        moons.push(Moon::new("Flying Far Away from Gusty Bridges", KingdomName::Cascade));
        moons[cascade40].add_prereq_kingdom(KingdomName::Mushroom);
        let lake27 = moons.len();
        moons.push(Moon::new("Found with Lake Kingdom Art", KingdomName::Cascade));
        moons[lake27].add_prereq_kingdom(KingdomName::Lake);
        moons[lake27].add_prereq_kingdom_count(KingdomName::Cascade, 2);
        offset.push((cascade1, moons.len()));

        // sand kingdom
        let sand1 = moons.len();
        moons.push(Moon::new("Atop the Highest Tower", KingdomName::Sand));
        let sand2 = moons.len();
        moons.push(Moon::new("Moon Shards in the Sand", KingdomName::Sand));
        moons[sand2].add_prereq_moon(sand1);
        let sand3 = moons.len();
        moons.push(Moon::new_multi("Showdown on the Inverted Pyramid", KingdomName::Sand));
        moons[sand3].add_prereq_moon(sand2);
        let sand4 = moons.len();
        moons.push(Moon::new_multi("The Hole in the Desert", KingdomName::Sand));
        moons[sand4].add_prereq_moon(sand3);
        kingdoms.kingdom_mut(KingdomName::Sand).set_exit_moon(sand4);
        moons.push(Moon::new("Overlooking the Desert Town", KingdomName::Sand));
        moons.push(Moon::new("Alcove in the Ruins", KingdomName::Sand));
        moons.push(Moon::new("On the Leaning Pillar", KingdomName::Sand));
        moons.push(Moon::new("Hidden Room in the Flowing Sands", KingdomName::Sand));
        moons.push(Moon::new("Secret of the Mural", KingdomName::Sand));
        let sand10 = moons.len();
        moons.push(Moon::new("Secret of the Inverted Mural", KingdomName::Sand));
        moons[sand10].add_prereq_moon(sand2);
        moons.push(Moon::new("On Top of the Stone Archway", KingdomName::Sand));
        moons.push(Moon::new("From a Crate in the Ruins", KingdomName::Sand));
        moons.push(Moon::new("On the Lone Pillar", KingdomName::Sand));
        let sand14 = moons.len();
        moons.push(Moon::new("On the Statue's Tail", KingdomName::Sand));
        moons[sand14].add_prereq_moon(sand2);
        let sand15 = moons.len();
        moons.push(Moon::new("Hang Your Hat on the Fountain", KingdomName::Sand));
        moons[sand15].add_prereq_moon(sand4);
        moons.push(Moon::new("Where the Birds Gather", KingdomName::Sand));
        moons.push(Moon::new("Top of a Dune", KingdomName::Sand));
        moons.push(Moon::new("Lost in the Luggage", KingdomName::Sand));
        let sand19 = moons.len();
        moons.push(Moon::new("Bullet Bill Breakthrough", KingdomName::Sand));
        moons[sand19].add_prereq_moon(sand4);
        moons.push(Moon::new("Inside a Block is a Hard Place", KingdomName::Sand));
        moons.push(Moon::new("Bird Traveling the Desert", KingdomName::Sand));
        let sand22 = moons.len();
        moons.push(Moon::new("Bird Traveling the Wastes", KingdomName::Sand));
        moons[sand22].add_prereq_moon(sand4);
        let sand23 = moons.len();
        moons.push(Moon::new("The Lurker Under the Stone", KingdomName::Sand));
        moons[sand23].add_prereq_moon(sand4);
        moons.push(Moon::new("The Treasure of Jaxi Ruins", KingdomName::Sand));
        moons.push(Moon::new("Desert Gardening: Plaza Seed", KingdomName::Sand));
        moons.push(Moon::new("Desert Gardening: Ruins Seed", KingdomName::Sand));
        moons.push(Moon::new("Desert Gardening: Seed on the Cliff", KingdomName::Sand));
        let sand28 = moons.len();
        moons.push(Moon::new("Sand Kingdom Timer Challenge 1", KingdomName::Sand));
        moons[sand28].add_prereq_moon(sand4);
        let sand29 = moons.len();
        moons.push(Moon::new("Sand Kingdom Timer Challenge 2", KingdomName::Sand));
        moons[sand29].add_prereq_moon(sand4);
        let sand30 = moons.len();
        moons.push(Moon::new("Sand Kingdom Timer Challenge 3", KingdomName::Sand));
        moons[sand30].add_prereq_moon(sand4);
        let sand31 = moons.len();
        moons.push(Moon::new("Found in the Sand! Good Dog!", KingdomName::Sand));
        moons[sand31].add_prereq_moon(sand4);
        moons.push(Moon::new("Taking Notes: Jump on the Palm", KingdomName::Sand));
        moons.push(Moon::new("Herding Sheep in the Dunes", KingdomName::Sand));
        let sand34 = moons.len();
        moons.push(Moon::new("Fishing in the Oasis", KingdomName::Sand));
        moons[sand34].add_prereq_moon(sand4);
        let sand35 = moons.len();
        moons.push(Moon::new("Love in the Heart of the Desert", KingdomName::Sand));
        moons[sand35].add_prereq_moon(sand4);
        moons.push(Moon::new("Among the Five Cactuses", KingdomName::Sand));
        let sand37 = moons.len();
        moons.push(Moon::new("You're Quite a Catch, Captain Toad!", KingdomName::Sand));
        moons[sand37].add_prereq_moon(sand4);
        let sand38 = moons.len();
        moons.push(Moon::new("Jaxi Reunion!", KingdomName::Sand));
        moons[sand38].add_prereq_moon(sand4);
        let sand39 = moons.len();
        moons.push(Moon::new("Welcome Back, Jaxi!", KingdomName::Sand));
        moons[sand39].add_prereq_moon(sand4);
        moons.push(Moon::new("Wandering Cactus", KingdomName::Sand));
        moons.push(Moon::new("Sand Quiz: Wonderful!", KingdomName::Sand));
        moons.push(Moon::new("Shopping in Tostarena", KingdomName::Sand));
        moons.push(Moon::new("Employees Only", KingdomName::Sand));
        moons.push(Moon::new("Sand Kingdom Slots", KingdomName::Sand));
        let sand45 = moons.len();
        moons.push(Moon::new("Walking the Desert", KingdomName::Sand));
        let sand46 = moons.len();
        moons.push(Moon::new("Hidden Room in the Inverted Pyramid", KingdomName::Sand));
        moons[sand46].add_prereq_moon(sand2);
        let sand47 = moons.len();
        moons.push(Moon::new("Underground Treasure Chest", KingdomName::Sand));
        moons[sand47].add_prereq_moon(sand3);
        let sand48 = moons.len();
        moons.push(Moon::new("Goomba Tower Assembly", KingdomName::Sand));
        moons[sand48].add_prereq_moon(sand3);
        let sand49 = moons.len();
        moons.push(Moon::new("Under the Mummy's Curse", KingdomName::Sand));
        moons[sand49].add_prereq_moon(sand4);
        moons.push(Moon::new("Ice Cave Treasure", KingdomName::Sand));
        moons.push(Moon::new("Sphynx's Treasure Vault", KingdomName::Sand));
        moons.push(Moon::new("A Rumble from the Sandy Floor", KingdomName::Sand));
        moons.push(Moon::new("Dancing with New Friends", KingdomName::Sand));
        moons.push(Moon::new("The Invisible Maze", KingdomName::Sand));
        moons.push(Moon::new("Skull Sign in the Transparent Maze", KingdomName::Sand));
        moons.push(Moon::new("The Bullet Bill Maze: Break Through!", KingdomName::Sand));
        moons.push(Moon::new("The Bullet Bill Maze: Side Path", KingdomName::Sand));
        moons.push(Moon::new("Jaxi Driver", KingdomName::Sand));
        moons.push(Moon::new("Jaxi Stunt Driving", KingdomName::Sand));
        let sand60 = moons.len();
        moons.push(Moon::new("Strange Neighborhood", KingdomName::Sand));
        moons[sand60].add_prereq_moon(sand4);
        let sand61 = moons.len();
        moons.push(Moon::new("Above a Strange Neighborhood", KingdomName::Sand));
        moons[sand61].add_prereq_moon(sand4);
        let sand62 = moons.len();
        moons.push(Moon::new("Secret Path to Tostarena!", KingdomName::Sand));
        moons[sand62].add_prereq_kingdom(KingdomName::Lake);
        let sand64 = moons.len();
        moons.push(Moon::new("Jammin' in the Sand Kingdom", KingdomName::Sand));
        moons[sand64].add_prereq_kingdom(KingdomName::Mushroom);
        let sand65 = moons.len();
        moons.push(Moon::new("Hat-and-Seek: In the Sand", KingdomName::Sand));
        moons[sand65].add_prereq_kingdom(KingdomName::Mushroom);
        let sand66 = moons.len();
        moons.push(Moon::new("Sand Kingdom Regular Cup", KingdomName::Sand));
        moons[sand66].add_prereq_kingdom(KingdomName::Mushroom);
        let sand67 = moons.len();
        moons.push(Moon::new("Binding Band Returned", KingdomName::Sand));
        moons[sand67].add_prereq_kingdom(KingdomName::Mushroom);
        let sand68 = moons.len();
        moons.push(Moon::new("Round-the-World Tourist", KingdomName::Sand));
        // TODO: requires mushroom kingdom tourist
        let sand69 = moons.len();
        moons.push(Moon::new("Peach in the Sand Kingdom", KingdomName::Sand));
        moons[sand69].add_prereq_kingdom(KingdomName::Mushroom);
        let sand70 = moons.len();
        moons.push(Moon::new("Mighty Leap from the Palm Tree!", KingdomName::Sand));
        moons[sand70].add_prereq_kingdom(KingdomName::Mushroom);
        let sand71 = moons.len();
        moons.push(Moon::new("On the North Pillar", KingdomName::Sand));
        moons[sand71].add_prereq_kingdom(KingdomName::Mushroom);
        let sand72 = moons.len();
        moons.push(Moon::new("Into the Flowing Sands", KingdomName::Sand));
        moons[sand72].add_prereq_kingdom(KingdomName::Mushroom);
        let sand73 = moons.len();
        moons.push(Moon::new("In the Skies Above the Canyon", KingdomName::Sand));
        moons[sand73].add_prereq_kingdom(KingdomName::Mushroom);
        let sand74 = moons.len();
        moons.push(Moon::new("Island in the Poison Swamp", KingdomName::Sand));
        moons[sand74].add_prereq_kingdom(KingdomName::Mushroom);
        let sand75 = moons.len();
        moons.push(Moon::new("An Invisible Gleam", KingdomName::Sand));
        moons[sand75].add_prereq_kingdom(KingdomName::Mushroom);
        let sand76 = moons.len();
        moons.push(Moon::new("On the Eastern Pillar", KingdomName::Sand));
        moons[sand76].add_prereq_kingdom(KingdomName::Mushroom);
        let sand77 = moons.len();
        moons.push(Moon::new("Caught Hopping in the Desert!", KingdomName::Sand));
        moons[sand77].add_prereq_kingdom(KingdomName::Mushroom);
        let sand78 = moons.len();
        moons.push(Moon::new("Poster Cleanup", KingdomName::Sand));
        moons[sand78].add_prereq_kingdom(KingdomName::Mushroom);
        let sand79 = moons.len();
        moons.push(Moon::new("Taking Notes: Running Down", KingdomName::Sand));
        moons[sand79].add_prereq_kingdom(KingdomName::Mushroom);
        let sand80 = moons.len();
        moons.push(Moon::new("Taking Notes: In the Wall Painting", KingdomName::Sand));
        moons[sand80].add_prereq_kingdom(KingdomName::Mushroom);
        let sand81 = moons.len();
        moons.push(Moon::new("Love at the Edge of the Desert", KingdomName::Sand));
        moons[sand81].add_prereq_kingdom(KingdomName::Mushroom);
        let sand82 = moons.len();
        moons.push(Moon::new("More Walking in the Desert!", KingdomName::Sand));
        moons[sand82].add_prereq_kingdom(KingdomName::Mushroom);
        moons[sand82].add_prereq_moon(sand45);
        let sand83 = moons.len();
        moons.push(Moon::new("Sand Kingdom Master Cup", KingdomName::Sand));
        moons[sand83].add_prereq_kingdom(KingdomName::Mushroom);
        moons[sand83].add_prereq_moon(sand66);
        let sand84 = moons.len();
        moons.push(Moon::new("Where the Transparent Platforms End", KingdomName::Sand));
        moons[sand84].add_prereq_kingdom(KingdomName::Mushroom);
        let sand85 = moons.len();
        moons.push(Moon::new("Jump Onto the Transparent Lift", KingdomName::Sand));
        moons[sand85].add_prereq_kingdom(KingdomName::Mushroom);
        let sand86 = moons.len();
        moons.push(Moon::new("Colossal Ruins: Dash! Jump!", KingdomName::Sand));
        moons[sand86].add_prereq_kingdom(KingdomName::Mushroom);
        let sand87 = moons.len();
        moons.push(Moon::new("Sinking Colossal Ruins: Hurry!", KingdomName::Sand));
        moons[sand87].add_prereq_kingdom(KingdomName::Mushroom);
        let sand88 = moons.len();
        moons.push(Moon::new("Through the Freezing Waterway", KingdomName::Sand));
        moons[sand88].add_prereq_kingdom(KingdomName::Mushroom);
        let sand89 = moons.len();
        moons.push(Moon::new("Freezing Waterway: Hidden Room", KingdomName::Sand));
        moons[sand89].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded50 = moons.len();
        moons.push(Moon::new("Found with Wooded Kingdom Art", KingdomName::Sand));
        moons[wooded50].add_prereq_kingdom(KingdomName::Wooded);
        moons[wooded50].add_prereq_kingdom_count(KingdomName::Sand, 2);
        let bowser45 = moons.len();
        moons.push(Moon::new("Found with Bowser's Kingdom Art", KingdomName::Sand));
        moons[bowser45].add_prereq_kingdom(KingdomName::Bowser);
        moons[bowser45].add_prereq_kingdom_count(KingdomName::Sand, 2);
        offset.push((sand1, moons.len()));

        // lake kingdom
        let lake1 = moons.len();
        moons.push(Moon::new_multi("Broodals Over the Lake", KingdomName::Lake));
        kingdoms.kingdom_mut(KingdomName::Lake).set_exit_moon(lake1);
        moons.push(Moon::new("Dorrie-Back Rider", KingdomName::Lake));
        moons.push(Moon::new("Cheep Cheep Crossing", KingdomName::Lake));
        moons.push(Moon::new("End of the Hidden Passage", KingdomName::Lake));
        moons.push(Moon::new("What's in the Box?", KingdomName::Lake));
        moons.push(Moon::new("On the Lakeshore", KingdomName::Lake));
        moons.push(Moon::new("From the Broken Pillar", KingdomName::Lake));
        moons.push(Moon::new("Treasure in the Spiky Waterway", KingdomName::Lake));
        let lake9 = moons.len();
        moons.push(Moon::new("Lake Gardening: Spiky Passage Seed", KingdomName::Lake));
        moons[lake9].add_prereq_moon(lake1);
        let lake10 = moons.len();
        moons.push(Moon::new("Lake Kingdom Timer Challenge 1", KingdomName::Lake));
        moons[lake10].add_prereq_moon(lake1);
        let lake11 = moons.len();
        moons.push(Moon::new("Lake Kingdom Timer Challenge 2", KingdomName::Lake));
        moons[lake11].add_prereq_moon(lake1);
        moons.push(Moon::new("Moon Shards in the Lake", KingdomName::Lake));
        moons.push(Moon::new("Taking Notes: Dive and Swim", KingdomName::Lake));
        moons.push(Moon::new("Taking Notes: In the Cliffside", KingdomName::Lake));
        let lake15 = moons.len();
        moons.push(Moon::new("Lake Fishing", KingdomName::Lake));
        moons[lake15].add_prereq_moon(lake1);
        let lake16 = moons.len();
        moons.push(Moon::new("I Met a Lake Cheep Cheep!", KingdomName::Lake));
        moons[lake16].add_prereq_moon(lake1);
        moons.push(Moon::new("Our Secret Little Room", KingdomName::Lake));
        moons.push(Moon::new("Let's Go Swimming, Captain Toad!", KingdomName::Lake));
        moons.push(Moon::new("Shopping in Lake Lamode", KingdomName::Lake));
        let lake20 = moons.len();
        moons.push(Moon::new("A Successful Repair Job", KingdomName::Lake));
        moons[lake20].add_prereq_moon(lake1);
        moons.push(Moon::new("I Feel Underdressed", KingdomName::Lake));
        moons.push(Moon::new("Unzip the Chasm", KingdomName::Lake));
        moons.push(Moon::new("Super-Secret Zipper", KingdomName::Lake));
        moons.push(Moon::new("Jump, Grab, Cling, and Climb", KingdomName::Lake));
        let lake26 = moons.len();
        moons.push(Moon::new("Secret Path to Lake Lamode!", KingdomName::Lake));
        moons[lake27].add_prereq_moon(lake1);
        let lake28 = moons.len();
        moons.push(Moon::new("Taxi Flying Through Lake Lamode", KingdomName::Lake));
        moons[lake28].add_prereq_kingdom(KingdomName::Mushroom);
        let lake29 = moons.len();
        moons.push(Moon::new("That Trendy \"Pirate\" Look", KingdomName::Lake));
        moons[lake29].add_prereq_kingdom(KingdomName::Mushroom);
        let lake30 = moons.len();
        moons.push(Moon::new("Space Is \"In\" Right Now", KingdomName::Lake));
        moons[lake30].add_prereq_kingdom(KingdomName::Mushroom);
        let lake31 = moons.len();
        moons.push(Moon::new("That \"Old West\" Style", KingdomName::Lake));
        moons[lake31].add_prereq_kingdom(KingdomName::Mushroom);
        let lake32 = moons.len();
        moons.push(Moon::new("Lake Kingdom Regular Cup", KingdomName::Lake));
        moons[lake32].add_prereq_kingdom(KingdomName::Mushroom);
        let lake33 = moons.len();
        moons.push(Moon::new("Peach in the Lake Kingdom", KingdomName::Lake));
        moons[lake33].add_prereq_kingdom(KingdomName::Mushroom);
        let lake34 = moons.len();
        moons.push(Moon::new("Behind the Floodgate", KingdomName::Lake));
        moons[lake34].add_prereq_kingdom(KingdomName::Mushroom);
        let lake35 = moons.len();
        moons.push(Moon::new("High-Flying Leap", KingdomName::Lake));
        moons[lake35].add_prereq_kingdom(KingdomName::Mushroom);
        let lake36 = moons.len();
        moons.push(Moon::new("Deep, Deep Down", KingdomName::Lake));
        moons[lake36].add_prereq_kingdom(KingdomName::Mushroom);
        let lake37 = moons.len();
        moons.push(Moon::new("Rooftop of the Water Plaza", KingdomName::Lake));
        moons[lake37].add_prereq_kingdom(KingdomName::Mushroom);
        let lake38 = moons.len();
        moons.push(Moon::new("Bird Traveling Over the Lake", KingdomName::Lake));
        moons[lake38].add_prereq_kingdom(KingdomName::Mushroom);
        let lake39 = moons.len();
        moons.push(Moon::new("Love by the Lake", KingdomName::Lake));
        moons[lake39].add_prereq_kingdom(KingdomName::Mushroom);
        let lake40 = moons.len();
        moons.push(Moon::new("Lake Kingdom Master Cup", KingdomName::Lake));
        moons[lake40].add_prereq_kingdom(KingdomName::Mushroom);
        moons[lake40].add_prereq_moon(lake32);
        let lake41 = moons.len();
        moons.push(Moon::new("Waves of Poison: Hoppin' Over", KingdomName::Lake));
        moons[lake41].add_prereq_kingdom(KingdomName::Mushroom);
        let lake42 = moons.len();
        moons.push(Moon::new("Waves of Poison: Hop to It!", KingdomName::Lake));
        moons[lake42].add_prereq_kingdom(KingdomName::Mushroom);
        let metro53 = moons.len();
        moons.push(Moon::new("Found With Metro Kingdom Art", KingdomName::Lake));
        moons[metro53].add_prereq_kingdom(KingdomName::Metro);
        offset.push((lake1, moons.len()));

        // wooded kingdom
        let wooded1 = moons.len();
        moons.push(Moon::new("Road to Sky Garden", KingdomName::Wooded));
        let wooded2 = moons.len();
        moons.push(Moon::new_multi("Flower Thieves of Sky Garden", KingdomName::Wooded));
        moons[wooded2].add_prereq_moon(wooded1);
        moons[sand62].add_prereq_moon(wooded2);
        let wooded3 = moons.len();
        moons.push(Moon::new("Path to the Secret Flower Field", KingdomName::Wooded));
        moons[wooded3].add_prereq_moon(wooded2);
        let wooded4 = moons.len();
        moons.push(Moon::new_multi("Defend the Secret Flower Field!", KingdomName::Wooded));
        moons[wooded4].add_prereq_moon(wooded3);
        kingdoms.kingdom_mut(KingdomName::Wooded).set_exit_moon(wooded4);
        let wooded5 = moons.len();
        moons.push(Moon::new("Behind the Rock Wall", KingdomName::Wooded));
        moons[wooded5].add_prereq_moon(wooded2);
        let wooded6 = moons.len();
        moons.push(Moon::new("Back Way Up the Mountain", KingdomName::Wooded));
        moons[wooded6].add_prereq_moon(wooded2);
        moons.push(Moon::new("Rolling Rock in the Woods", KingdomName::Wooded));
        moons.push(Moon::new("Caught Hopping in the Forest!", KingdomName::Wooded));
        let wooded9 = moons.len();
        moons.push(Moon::new("Thanks for the Charge!", KingdomName::Wooded));
        moons[wooded9].add_prereq_moon(wooded2);
        moons.push(Moon::new("Atop the Tall Tree", KingdomName::Wooded));
        moons.push(Moon::new("Tucked Way Inside the Tunnel", KingdomName::Wooded));
        let wooded12 = moons.len();
        moons.push(Moon::new("Over the Cliff's Edge", KingdomName::Wooded));
        moons[wooded12].add_prereq_moon(wooded2);
        moons.push(Moon::new("The Nut Round the Corner", KingdomName::Wooded));
        moons.push(Moon::new("Climb the Cliff to Get the Nut", KingdomName::Wooded));
        moons.push(Moon::new("The Nut in the Red Maze", KingdomName::Wooded));
        moons.push(Moon::new("The Nut at the Dead End", KingdomName::Wooded));
        let wooded17 = moons.len();
        moons.push(Moon::new("Cracked Nut on a Crumbling Tower", KingdomName::Wooded));
        moons[wooded17].add_prereq_moon(wooded1);
        let wooded18 = moons.len();
        moons.push(Moon::new("The Nut that Grew on the Tall Fence", KingdomName::Wooded));
        moons[wooded18].add_prereq_moon(wooded2);
        moons.push(Moon::new("Fire in the Cave", KingdomName::Wooded));
        let wooded20 = moons.len();
        moons.push(Moon::new("Hey Out There, Captain Toad!", KingdomName::Wooded));
        moons[wooded20].add_prereq_moon(wooded4);
        let wooded21 = moons.len();
        moons.push(Moon::new("Love in the Forest Ruins", KingdomName::Wooded));
        moons[wooded21].add_prereq_moon(wooded2);
        let wooded22 = moons.len();
        moons.push(Moon::new("Inside a Rock in the Forest", KingdomName::Wooded));
        moons[wooded22].add_prereq_moon(wooded4);
        moons.push(Moon::new("Shopping in Steam Gardens", KingdomName::Wooded));
        let wooded24 = moons.len();
        moons.push(Moon::new("Nut Planted in the Tower", KingdomName::Wooded));
        moons[wooded24].add_prereq_moon(wooded1);
        let wooded25 = moons.len();
        moons.push(Moon::new("Stretching Your Legs", KingdomName::Wooded));
        moons[wooded25].add_prereq_moon(wooded1);
        let wooded26 = moons.len();
        moons.push(Moon::new("Spinning-Platforms Treasure", KingdomName::Wooded));
        moons[wooded26].add_prereq_moon(wooded2);
        let wooded27 = moons.len();
        moons.push(Moon::new("Make the Secret Flower Field Bloom", KingdomName::Wooded));
        moons[wooded27].add_prereq_moon(wooded4);
        moons.push(Moon::new("Rolling Rock in the Deep Woods", KingdomName::Wooded));
        moons.push(Moon::new("Glowing in the Deep Woods", KingdomName::Wooded));
        moons.push(Moon::new("Past the Peculiar Pipes", KingdomName::Wooded));
        moons.push(Moon::new("By the Babbling Brook in Deep Woods", KingdomName::Wooded));
        moons.push(Moon::new("The Hard Rock in Deep Woods", KingdomName::Wooded));
        moons.push(Moon::new("A Treasure Made from Coins", KingdomName::Wooded));
        moons.push(Moon::new("Beneath the Roots of the Moving Tree", KingdomName::Wooded));
        moons.push(Moon::new("Deep Woods Treasure Trap", KingdomName::Wooded));
        moons.push(Moon::new("Exploring for Treasure", KingdomName::Wooded));
        let wooded37 = moons.len();
        moons.push(Moon::new("Wooded Kingdom Timer Challenge 1", KingdomName::Wooded));
        moons[wooded37].add_prereq_moon(wooded4);
        let wooded38 = moons.len();
        moons.push(Moon::new("Wooded Kingdom Timer Challenge 2", KingdomName::Wooded));
        moons[wooded38].add_prereq_moon(wooded4);
        moons.push(Moon::new("Flooding Pipeway", KingdomName::Wooded));
        moons.push(Moon::new("Flooding Pipeway Ceiling Secret", KingdomName::Wooded));
        let wooded41 = moons.len();
        moons.push(Moon::new("Wandering in the Fog", KingdomName::Wooded));
        moons[wooded41].add_prereq_moon(wooded2);
        let wooded42 = moons.len();
        moons.push(Moon::new("Nut Hidden in the Fog", KingdomName::Wooded));
        moons[wooded42].add_prereq_moon(wooded2);
        let wooded43 = moons.len();
        moons.push(Moon::new("Flower Road Run", KingdomName::Wooded));
        moons[wooded43].add_prereq_moon(wooded2);
        let wooded44 = moons.len();
        moons.push(Moon::new("Flower Road Reach", KingdomName::Wooded));
        moons[wooded44].add_prereq_moon(wooded2);
        let wooded45 = moons.len();
        moons.push(Moon::new("Elevator Escalation", KingdomName::Wooded));
        moons[wooded45].add_prereq_moon(wooded2);
        let wooded46 = moons.len();
        moons.push(Moon::new("Elevator Blind Spot", KingdomName::Wooded));
        moons[wooded46].add_prereq_moon(wooded2);
        let wooded47 = moons.len();
        moons.push(Moon::new("Walking on Clouds", KingdomName::Wooded));
        moons[wooded47].add_prereq_moon(wooded4);
        let wooded48 = moons.len();
        moons.push(Moon::new("Above the Clouds", KingdomName::Wooded));
        moons[wooded48].add_prereq_moon(wooded4);
        let wooded49 = moons.len();
        moons.push(Moon::new("Secret Path to Steam Gardens!", KingdomName::Wooded));
        let wooded51 = moons.len();
        moons.push(Moon::new("Swing Around Secret Flower Field", KingdomName::Wooded));
        moons[wooded51].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded52 = moons.len();
        moons.push(Moon::new("Jammin' in the Wooded Kingdom", KingdomName::Wooded));
        moons[wooded52].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded53 = moons.len();
        moons.push(Moon::new("Wooded Kingdom Regular Cup", KingdomName::Wooded));
        moons[wooded53].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded54 = moons.len();
        moons.push(Moon::new("Peach in the Wooded Kingdom", KingdomName::Wooded));
        moons[wooded54].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded55 = moons.len();
        moons.push(Moon::new("High Up in the Cave", KingdomName::Wooded));
        moons[wooded55].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded56 = moons.len();
        moons.push(Moon::new("Lost in the Tall Trees", KingdomName::Wooded));
        moons[wooded56].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded57 = moons.len();
        moons.push(Moon::new("Looking Down on the Goombas", KingdomName::Wooded));
        moons[wooded57].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded58 = moons.len();
        moons.push(Moon::new("High Up on a Rock Wall", KingdomName::Wooded));
        moons[wooded58].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded59 = moons.len();
        moons.push(Moon::new("The Nut in the Robot Storeroom", KingdomName::Wooded));
        moons[wooded59].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded60 = moons.len();
        moons.push(Moon::new("Above the Iron Mountain Path", KingdomName::Wooded));
        moons[wooded60].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded61 = moons.len();
        moons.push(Moon::new("The Nut Under the Observation Deck", KingdomName::Wooded));
        moons[wooded61].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded62 = moons.len();
        moons.push(Moon::new("Bird Traveling the Forest", KingdomName::Wooded));
        moons[wooded62].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded63 = moons.len();
        moons.push(Moon::new("Invader in the Sky Garden", KingdomName::Wooded));
        moons[wooded63].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded64 = moons.len();
        moons.push(Moon::new("Hot, Hot, Hot from the Campfire", KingdomName::Wooded));
        moons[wooded64].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded65 = moons.len();
        moons.push(Moon::new("Wooded Kingdom Timer Challenge 3", KingdomName::Wooded));
        moons[wooded65].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded66 = moons.len();
        moons.push(Moon::new("Moon Shards in the Forest", KingdomName::Wooded));
        moons[wooded66].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded67 = moons.len();
        moons.push(Moon::new("Taking Notes: On Top of the Wall", KingdomName::Wooded));
        moons[wooded67].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded68 = moons.len();
        moons.push(Moon::new("Taking Notes: Stretching", KingdomName::Wooded));
        moons[wooded68].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded69 = moons.len();
        moons.push(Moon::new("Wooded Kingdom Master Cup", KingdomName::Wooded));
        moons[wooded69].add_prereq_kingdom(KingdomName::Mushroom);
        moons[wooded69].add_prereq_moon(wooded53);
        let wooded70 = moons.len();
        moons.push(Moon::new("I Met an Uproot!", KingdomName::Wooded));
        moons[wooded70].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded71 = moons.len();
        moons.push(Moon::new("Invisible Road: Danger!", KingdomName::Wooded));
        moons[wooded71].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded72 = moons.len();
        moons.push(Moon::new("Invisible Road: Hidden Room", KingdomName::Wooded));
        moons[wooded72].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded73 = moons.len();
        moons.push(Moon::new("Herding Sheep Above the Forest Fog", KingdomName::Wooded));
        moons[wooded73].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded74 = moons.len();
        moons.push(Moon::new("Herding Sheep on the Iron Bridge", KingdomName::Wooded));
        moons[wooded74].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded75 = moons.len();
        moons.push(Moon::new("Down and Back Breakdown Road", KingdomName::Wooded));
        moons[wooded75].add_prereq_kingdom(KingdomName::Mushroom);
        let wooded76 = moons.len();
        moons.push(Moon::new("Below Breakdown Road", KingdomName::Wooded));
        moons[wooded76].add_prereq_kingdom(KingdomName::Mushroom);
        let moon27 = moons.len();
        moons.push(Moon::new("Found with Moon Kingdom Art", KingdomName::Wooded));
        moons[moon27].add_prereq_kingdom(KingdomName::Mushroom);
        moons[moon27].add_prereq_kingdom_count(KingdomName::Moon, 2);
        offset.push((wooded1, moons.len()));

        // cloud kingdom
        let cloud1 = moons.len();
        moons.push(Moon::new("Picture Match: Basically a Goomba", KingdomName::Cloud));
        moons[cloud1].add_prereq_kingdom(KingdomName::Lost);
        moons[cloud1].add_prereq_kingdom_count(KingdomName::Cloud, 2);
        let cloud2 = moons.len();
        moons.push(Moon::new("Peach in the Cloud Kingdom", KingdomName::Cloud));
        moons[cloud2].add_prereq_kingdom(KingdomName::Mushroom);
        let cloud3 = moons.len();
        moons.push(Moon::new("Digging in the...Cloud?", KingdomName::Cloud));
        moons[cloud3].add_prereq_kingdom(KingdomName::Mushroom);
        let cloud4 = moons.len();
        moons.push(Moon::new("High, High Above the Clouds", KingdomName::Cloud));
        moons[cloud4].add_prereq_kingdom(KingdomName::Mushroom);
        let cloud5 = moons.len();
        moons.push(Moon::new("Crossing the Cloud Sea", KingdomName::Cloud));
        moons[cloud5].add_prereq_kingdom(KingdomName::Mushroom);
        let cloud6 = moons.len();
        moons.push(Moon::new("Taking Notes: Up and Down", KingdomName::Cloud));
        moons[cloud6].add_prereq_kingdom(KingdomName::Mushroom);
        let cloud7 = moons.len();
        moons.push(Moon::new("Picture Match: A Stellar Goomba", KingdomName::Cloud));
        moons[cloud7].add_prereq_kingdom(KingdomName::Mushroom);
        moons[cloud7].add_prereq_moon(cloud1);
        let cloud8 = moons.len();
        moons.push(Moon::new("King of the Cube!", KingdomName::Cloud));
        moons[cloud8].add_prereq_kingdom(KingdomName::Mushroom);
        let cloud9 = moons.len();
        moons.push(Moon::new("The Sixth Face", KingdomName::Cloud));
        moons[cloud9].add_prereq_kingdom(KingdomName::Mushroom);
        offset.push((cloud1, moons.len()));

        // lost kingdom
        let lost1 = moons.len();
        moons.push(Moon::new("Atop a Propeller Pillar", KingdomName::Lost));
        moons.push(Moon::new("Below the Cliff's Edge", KingdomName::Lost));
        moons.push(Moon::new("Inside the Stone Cage", KingdomName::Lost));
        moons.push(Moon::new("On a Tree in the Swamp", KingdomName::Lost));
        moons.push(Moon::new("Over the Fuzzies, Above the Swamp", KingdomName::Lost));
        moons.push(Moon::new("Avoiding Fuzzies Inside the Wall", KingdomName::Lost));
        moons.push(Moon::new("Inside the Rising Stone Pillar", KingdomName::Lost));
        moons.push(Moon::new("Enjoying the View of Forgotten Isle", KingdomName::Lost));
        moons.push(Moon::new("On the Mountain Road", KingdomName::Lost));
        moons.push(Moon::new("A Propeller Pillar's Secret", KingdomName::Lost));
        moons.push(Moon::new("Wrecked Rock Block", KingdomName::Lost));
        moons.push(Moon::new("A Butterfly's Treasure", KingdomName::Lost));
        let lost13 = moons.len();
        moons.push(Moon::new("Caught Hopping in the Jungle!", KingdomName::Lost));
        moons[lost13].add_prereq_kingdom_count(KingdomName::Lost, 2);
        moons.push(Moon::new("Cave Gardening", KingdomName::Lost));
        moons.push(Moon::new("Moon Shards in the Jungle", KingdomName::Lost));
        moons.push(Moon::new("Peeking Out from Under the Bridge", KingdomName::Lost));
        moons.push(Moon::new("Twist 'n' Turn-Up Treasure", KingdomName::Lost));
        moons.push(Moon::new("Soaring Over Forgotten Isle!", KingdomName::Lost));
        moons.push(Moon::new("The Caged Gold", KingdomName::Lost));
        moons.push(Moon::new("Get Some Rest, Captain Toad", KingdomName::Lost));
        moons.push(Moon::new("Shopping on Forgotten Isle", KingdomName::Lost));
        let lost22 = moons.len();
        moons.push(Moon::new("Taxi Flying Through Forgotten Isle", KingdomName::Lost));
        moons[lost22].add_prereq_kingdom(KingdomName::Mushroom);
        let lost23 = moons.len();
        moons.push(Moon::new("I Met a Tropical Wiggler", KingdomName::Lost));
        moons[lost23].add_prereq_kingdom(KingdomName::Mushroom);
        let lost24 = moons.len();
        moons.push(Moon::new("Lost Kingdom Regular Cup", KingdomName::Lost));
        moons[lost24].add_prereq_kingdom(KingdomName::Mushroom);
        let lost25 = moons.len();
        moons.push(Moon::new("Peach in the Lost Kingdom", KingdomName::Lost));
        moons[lost25].add_prereq_kingdom(KingdomName::Mushroom);
        let lost26 = moons.len();
        moons.push(Moon::new("The Shining Fruit", KingdomName::Lost));
        moons[lost26].add_prereq_kingdom(KingdomName::Mushroom);
        let lost27 = moons.len();
        moons.push(Moon::new("Jump Down to the Top of a Tree", KingdomName::Lost));
        moons[lost27].add_prereq_kingdom(KingdomName::Mushroom);
        let lost28 = moons.len();
        moons.push(Moon::new("Line It Up, Blow It Up", KingdomName::Lost));
        moons[lost28].add_prereq_kingdom(KingdomName::Mushroom);
        let lost29 = moons.len();
        moons.push(Moon::new("Taking Notes: Stretch and Shrink", KingdomName::Lost));
        moons[lost29].add_prereq_kingdom(KingdomName::Mushroom);
        let lost30 = moons.len();
        moons.push(Moon::new("Lost Kingdom Master Cup", KingdomName::Lost));
        moons[lost30].add_prereq_kingdom(KingdomName::Mushroom);
        moons[lost30].add_prereq_moon(lost24);
        let lost31 = moons.len();
        moons.push(Moon::new("Lost Kingdom Timer Challenge", KingdomName::Lost));
        moons[lost31].add_prereq_kingdom(KingdomName::Mushroom);
        let lost32 = moons.len();
        moons.push(Moon::new("Stretch and Traverse the Jungle", KingdomName::Lost));
        moons[lost32].add_prereq_kingdom(KingdomName::Mushroom);
        let lost33 = moons.len();
        moons.push(Moon::new("Aglow in the Jungle", KingdomName::Lost));
        moons[lost33].add_prereq_kingdom(KingdomName::Mushroom);
        let lost34 = moons.len();
        moons.push(Moon::new("Chasing Klepto", KingdomName::Lost));
        moons[lost34].add_prereq_kingdom(KingdomName::Mushroom);
        let lost35 = moons.len();
        moons.push(Moon::new("Extremely Hot Bath", KingdomName::Lost));
        moons[lost35].add_prereq_kingdom(KingdomName::Mushroom);
        let snow34 = moons.len();
        moons.push(Moon::new("Found with Snow Kingdom Art", KingdomName::Lost));
        moons[snow34].add_prereq_kingdom(KingdomName::Snow);
        offset.push((lost1, moons.len()));

        // metro kingdom
        let metro1 = moons.len();
        moons.push(Moon::new_multi("New Donk City's Pest Problem", KingdomName::Metro));
        moons[lake26].add_prereq_moon(metro1);
        moons[wooded49].add_prereq_moon(metro1);
        let metro2 = moons.len();
        moons.push(Moon::new("Drummer on Board!", KingdomName::Metro));
        moons[metro2].add_prereq_moon(metro1);
        let metro3 = moons.len();
        moons.push(Moon::new("Guitarist on Board!", KingdomName::Metro));
        moons[metro3].add_prereq_moon(metro1);
        let metro4 = moons.len();
        moons.push(Moon::new("Bassist on Board!", KingdomName::Metro));
        moons[metro4].add_prereq_moon(metro1);
        let metro5 = moons.len();
        moons.push(Moon::new("Trumpeter on Board!", KingdomName::Metro));
        moons[metro5].add_prereq_moon(metro1);
        let metro6 = moons.len();
        moons.push(Moon::new("Powering Up the Station", KingdomName::Metro));
        moons[metro6].add_prereq_moon(metro2);
        moons[metro6].add_prereq_moon(metro3);
        moons[metro6].add_prereq_moon(metro4);
        moons[metro6].add_prereq_moon(metro5);
        let metro7 = moons.len();
        moons.push(Moon::new_multi("A Traditional Festival", KingdomName::Metro));
        kingdoms.kingdom_mut(KingdomName::Metro).set_exit_moon(metro7);
        moons[metro7].add_prereq_moon(metro6);
        moons.push(Moon::new("Inside an Iron Girder", KingdomName::Metro));
        moons.push(Moon::new("Swaying in the Breeze", KingdomName::Metro));
        moons.push(Moon::new("Girder Sandwich", KingdomName::Metro));
        let metro11 = moons.len();
        moons.push(Moon::new("Glittering Above the Pool", KingdomName::Metro));
        moons[metro11].add_prereq_moon(metro1);
        let metro12 = moons.len();
        moons.push(Moon::new("Dizzying Heights", KingdomName::Metro));
        moons[metro12].add_prereq_moon(metro1);
        let metro13 = moons.len();
        moons.push(Moon::new("Secret Girder Tunnel!", KingdomName::Metro));
        moons[metro13].add_prereq_moon(metro1);
        let metro14 = moons.len();
        moons.push(Moon::new("Who Piled Garbage on This?", KingdomName::Metro));
        moons[metro14].add_prereq_moon(metro1);
        let metro15 = moons.len();
        moons.push(Moon::new("Hidden in the Scrap", KingdomName::Metro));
        moons[metro15].add_prereq_moon(metro1);
        let metro16 = moons.len();
        moons.push(Moon::new("Left at the Cafe?", KingdomName::Metro));
        moons[metro16].add_prereq_moon(metro1);
        let metro17 = moons.len();
        moons.push(Moon::new("Caught Hopping on a Building", KingdomName::Metro));
        moons[metro17].add_prereq_moon(metro7);
        let metro18 = moons.len();
        moons.push(Moon::new("How Do They Take Out the Trash?", KingdomName::Metro));
        moons[metro18].add_prereq_moon(metro1);
        let metro19 = moons.len();
        moons.push(Moon::new("Metro Kingdom Timer Challenge 1", KingdomName::Metro));
        moons[metro19].add_prereq_moon(metro7);
        let metro20 = moons.len();
        moons.push(Moon::new("Metro Kingdom Timer Challenge 2", KingdomName::Metro));
        moons[metro20].add_prereq_moon(metro7);
        let metro21 = moons.len();
        moons.push(Moon::new("City Gardening: Building Planter", KingdomName::Metro));
        moons[metro21].add_prereq_moon(metro1);
        let metro22 = moons.len();
        moons.push(Moon::new("City Gardening: Plaza Planter", KingdomName::Metro));
        moons[metro22].add_prereq_moon(metro1);
        let metro23 = moons.len();
        moons.push(Moon::new("City Gardening: Rooftop Planter", KingdomName::Metro));
        moons[metro23].add_prereq_moon(metro1);
        let metro24 = moons.len();
        moons.push(Moon::new("How You Doin' Captain Toad?", KingdomName::Metro));
        moons[metro24].add_prereq_moon(metro1);
        let metro25 = moons.len();
        moons.push(Moon::new("Free Parking: Rooftop Hop", KingdomName::Metro));
        moons[metro25].add_prereq_moon(metro1);
        let metro26 = moons.len();
        moons.push(Moon::new("Bench Friends", KingdomName::Metro));
        moons[metro26].add_prereq_moon(metro1);
        moons.push(Moon::new("Shopping in New Donk City", KingdomName::Metro));
        let metro28 = moons.len();
        moons.push(Moon::new("Metro Kingdom Slots", KingdomName::Metro));
        moons[metro28].add_prereq_moon(metro1);
        let metro29 = moons.len();
        moons.push(Moon::new("Jump-Rope Hero", KingdomName::Metro));
        moons[metro29].add_prereq_moon(metro1);
        let metro30 = moons.len();
        moons.push(Moon::new("Jump-Rope Genius", KingdomName::Metro));
        moons[metro30].add_prereq_moon(metro1);
        moons[metro30].add_prereq_moon(metro29);
        let metro31 = moons.len();
        moons.push(Moon::new("Remotely Captured Car", KingdomName::Metro));
        moons[metro31].add_prereq_moon(metro1);
        let metro32 = moons.len();
        moons.push(Moon::new("RC Car Pro!", KingdomName::Metro));
        moons[metro32].add_prereq_moon(metro31);
        let metro33 = moons.len();
        moons.push(Moon::new("Taking Notes: In the Private Room", KingdomName::Metro));
        moons[metro33].add_prereq_moon(metro1);
        moons.push(Moon::new("City Hall Lost & Found", KingdomName::Metro));
        let metro35 = moons.len();
        moons.push(Moon::new("Sewer Treasure", KingdomName::Metro));
        moons[metro35].add_prereq_moon(metro2);
        moons[metro35].add_prereq_moon(metro3);
        moons[metro35].add_prereq_moon(metro4);
        moons[metro35].add_prereq_moon(metro5);
        let metro36 = moons.len();
        moons.push(Moon::new("Celebrating in the Streets!", KingdomName::Metro));
        moons[metro36].add_prereq_moon(metro6);
        let metro37 = moons.len();
        moons.push(Moon::new("Pushing Through the Crowd", KingdomName::Metro));
        moons[metro37].add_prereq_moon(metro1);
        let metro38 = moons.len();
        moons.push(Moon::new("High Over the Crowd", KingdomName::Metro));
        moons[metro38].add_prereq_moon(metro1);
        let metro39 = moons.len();
        moons.push(Moon::new("Rewiring the Neighborhood", KingdomName::Metro));
        moons[metro39].add_prereq_moon(metro1);
        let metro40 = moons.len();
        moons.push(Moon::new("Off the Beaten Wire", KingdomName::Metro));
        moons[metro40].add_prereq_moon(metro1);
        let metro41 = moons.len();
        moons.push(Moon::new("Moon Shards Under Siege", KingdomName::Metro));
        moons[metro41].add_prereq_moon(metro1);
        let metro42 = moons.len();
        moons.push(Moon::new("Sharpshooting Under Siege", KingdomName::Metro));
        moons[metro42].add_prereq_moon(metro1);
        let metro43 = moons.len();
        moons.push(Moon::new("Inside the Rotating Maze", KingdomName::Metro));
        moons[metro43].add_prereq_moon(metro1);
        let metro44 = moons.len();
        moons.push(Moon::new("Outside the Rotating Maze", KingdomName::Metro));
        moons[metro44].add_prereq_moon(metro1);
        let metro45 = moons.len();
        moons.push(Moon::new("Hanging from a High-Rise", KingdomName::Metro));
        moons[metro45].add_prereq_moon(metro1);
        let metro46 = moons.len();
        moons.push(Moon::new("Vaulting Up a High-Rise", KingdomName::Metro));
        moons[metro46].add_prereq_moon(metro1);
        let metro47 = moons.len();
        moons.push(Moon::new("Bullet Billding", KingdomName::Metro));
        moons[metro47].add_prereq_moon(metro1);
        let metro48 = moons.len();
        moons.push(Moon::new("One Man's Trash...", KingdomName::Metro));
        moons[metro48].add_prereq_moon(metro1);
        let metro49 = moons.len();
        moons.push(Moon::new("Motor Scooter: Escape", KingdomName::Metro));
        moons[metro49].add_prereq_moon(metro1);
        let metro50 = moons.len();
        moons.push(Moon::new("Big Jump: Escape!", KingdomName::Metro));
        moons[metro50].add_prereq_moon(metro1);
        let metro51 = moons.len();
        moons.push(Moon::new("Secret Path to New Donk City!", KingdomName::Metro));
        moons[metro51].add_prereq_moon(metro1);
        moons[metro51].add_prereq_moon(sand10);
        moons[metro51].add_prereq_kingdom_count(KingdomName::Sand, 2);
        let metro52 = moons.len();
        moons.push(Moon::new("A Tourist in the Metro Kingdom!", KingdomName::Metro));
        moons[metro52].add_prereq_moon(metro7);
        moons[metro52].add_prereq_moon(sand4);
        moons[metro53].add_prereq_moon(metro1);
        moons[cascade19].add_prereq_moon(metro52);
        let metro54 = moons.len();
        moons.push(Moon::new("Bird Traveling the City", KingdomName::Metro));
        moons[metro54].add_prereq_kingdom(KingdomName::Mushroom);
        let metro55 = moons.len();
        moons.push(Moon::new("Mario Signs His Name", KingdomName::Metro));
        moons[metro55].add_prereq_kingdom(KingdomName::Mushroom);
        let metro56 = moons.len();
        moons.push(Moon::new("Surprise Clown!", KingdomName::Metro));
        moons[metro56].add_prereq_kingdom(KingdomName::Mushroom);
        let metro57 = moons.len();
        moons.push(Moon::new("A Request from the Mayor", KingdomName::Metro));
        moons[metro57].add_prereq_kingdom(KingdomName::Mushroom);
        let metro58 = moons.len();
        moons.push(Moon::new("Jammin' in the Metro Kingdom", KingdomName::Metro));
        moons[metro58].add_prereq_kingdom(KingdomName::Mushroom);
        let metro59 = moons.len();
        moons.push(Moon::new("Sphynx in the City", KingdomName::Metro));
        moons[metro59].add_prereq_kingdom(KingdomName::Mushroom);
        let metro60 = moons.len();
        moons.push(Moon::new("Free Parking: Leap of Faith", KingdomName::Metro));
        moons[metro60].add_prereq_moon(metro7);
        moons[metro60].add_prereq_kingdom(KingdomName::Mushroom);
        let metro61 = moons.len();
        moons.push(Moon::new("Moon Kingdom Regular Cup", KingdomName::Metro));
        moons[metro61].add_prereq_kingdom(KingdomName::Mushroom);
        let metro62 = moons.len();
        moons.push(Moon::new("Hat-and-Seek: In the City", KingdomName::Metro));
        moons[metro62].add_prereq_kingdom(KingdomName::Mushroom);
        let metro63 = moons.len();
        moons.push(Moon::new("Powering Up the Power Plant", KingdomName::Metro));
        moons[metro63].add_prereq_kingdom(KingdomName::Mushroom);
        let metro64 = moons.len();
        moons.push(Moon::new("Up on the Big Screen", KingdomName::Metro));
        moons[metro64].add_prereq_kingdom(KingdomName::Mushroom);
        let metro65 = moons.len();
        moons.push(Moon::new("Down Inside the Big Screen", KingdomName::Metro));
        moons[metro65].add_prereq_kingdom(KingdomName::Mushroom);
        let metro66 = moons.len();
        moons.push(Moon::new("Peach in the Metro Kingdom", KingdomName::Metro));
        moons[metro66].add_prereq_kingdom(KingdomName::Mushroom);
        let metro67 = moons.len();
        moons.push(Moon::new("Hanging Between Buildings", KingdomName::Metro));
        moons[metro67].add_prereq_kingdom(KingdomName::Mushroom);
        let metro68 = moons.len();
        moons.push(Moon::new("Crossing Lines", KingdomName::Metro));
        moons[metro68].add_prereq_kingdom(KingdomName::Mushroom);
        let metro69 = moons.len();
        moons.push(Moon::new("Out of a Crate in the City", KingdomName::Metro));
        moons[metro69].add_prereq_kingdom(KingdomName::Mushroom);
        let metro70 = moons.len();
        moons.push(Moon::new("Bird Traveling in the Park", KingdomName::Metro));
        moons[metro70].add_prereq_kingdom(KingdomName::Mushroom);
        let metro71 = moons.len();
        moons.push(Moon::new("Metro Kingdom Timer Challenge 3", KingdomName::Metro));
        moons[metro71].add_prereq_kingdom(KingdomName::Mushroom);
        let metro72 = moons.len();
        moons.push(Moon::new("Found in the Park! Good Dog!", KingdomName::Metro));
        moons[metro72].add_prereq_kingdom(KingdomName::Mushroom);
        let metro73 = moons.len();
        moons.push(Moon::new("RC Car Champ", KingdomName::Metro));
        moons[metro73].add_prereq_kingdom(KingdomName::Mushroom);
        moons[metro73].add_prereq_moon(metro32);
        let metro74 = moons.len();
        moons.push(Moon::new("Metro Kingdom Master Cup", KingdomName::Metro));
        moons[metro74].add_prereq_kingdom(KingdomName::Mushroom);
        moons[metro74].add_prereq_moon(metro61);
        let metro75 = moons.len();
        moons.push(Moon::new("Hat-and-Seek: In the Crowd", KingdomName::Metro));
        moons[metro75].add_prereq_kingdom(KingdomName::Mushroom);
        let metro76 = moons.len();
        moons.push(Moon::new("Scaling Pitchblack Mountain", KingdomName::Metro));
        moons[metro76].add_prereq_kingdom(KingdomName::Mushroom);
        let metro77 = moons.len();
        moons.push(Moon::new("Reaching Pitchblack Island", KingdomName::Metro));
        moons[metro77].add_prereq_kingdom(KingdomName::Mushroom);
        let metro78 = moons.len();
        moons.push(Moon::new("Swinging Scaffolding: Jump!", KingdomName::Metro));
        moons[metro78].add_prereq_kingdom(KingdomName::Mushroom);
        let metro79 = moons.len();
        moons.push(Moon::new("Swinging Scaffolding: Break!", KingdomName::Metro));
        moons[metro79].add_prereq_kingdom(KingdomName::Mushroom);
        let metro80 = moons.len();
        moons.push(Moon::new("Motor Scooter Daredevil!", KingdomName::Metro));
        moons[metro80].add_prereq_kingdom(KingdomName::Mushroom);
        let metro81 = moons.len();
        moons.push(Moon::new("Full-Throttle Scooting!", KingdomName::Metro));
        moons[metro81].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside50 = moons.len();
        moons.push(Moon::new("Found with Seaside Kingdom Art", KingdomName::Metro));
        moons[seaside50].add_prereq_kingdom(KingdomName::Seaside);
        offset.push((metro1, moons.len()));

        // snow kingdom
        let snow1 = moons.len();
        moons.push(Moon::new("The Icicle Barrier", KingdomName::Snow));
        let snow2 = moons.len();
        moons.push(Moon::new("The Ice Wall Barrier", KingdomName::Snow));
        let snow3 = moons.len();
        moons.push(Moon::new("The Gusty Barrier", KingdomName::Snow));
        let snow4 = moons.len();
        moons.push(Moon::new("The Snowy Mountain Barrier", KingdomName::Snow));
        let snow5 = moons.len();
        moons.push(Moon::new_multi("The Bound Bowl Grand Prix", KingdomName::Snow));
        moons[snow5].add_prereq_moon(snow1);
        moons[snow5].add_prereq_moon(snow2);
        moons[snow5].add_prereq_moon(snow3);
        moons[snow5].add_prereq_moon(snow4);
        kingdoms.kingdom_mut(KingdomName::Snow).set_exit_moon(snow5);
        moons[cascade18].add_prereq_moon(snow5);
        moons[lake26].add_prereq_moon(snow5);
        moons[wooded49].add_prereq_moon(snow5);
        moons.push(Moon::new("Entrance to Shiveria", KingdomName::Snow));
        moons.push(Moon::new("Behind Snowy Mountain", KingdomName::Snow));
        moons.push(Moon::new("Shining in the Snow in Town", KingdomName::Snow));
        moons.push(Moon::new("Atop a Blustery Arch", KingdomName::Snow));
        let snow10 = moons.len();
        moons.push(Moon::new("Caught Hopping in the Snow!", KingdomName::Snow));
        moons[snow10].add_prereq_moon(snow5);
        moons.push(Moon::new("The Shiverian Treasure Chest", KingdomName::Snow));
        moons.push(Moon::new("Treasure in the Ice Wall", KingdomName::Snow));
        let snow13 = moons.len();
        moons.push(Moon::new("Snow Kingdom Timer Challenge 1", KingdomName::Snow));
        moons[snow13].add_prereq_moon(snow5);
        let snow14 = moons.len();
        moons.push(Moon::new("Snow Kingdom Timer Challenge 2", KingdomName::Snow));
        moons[snow14].add_prereq_moon(snow5);
        let snow15 = moons.len();
        moons.push(Moon::new("Moon Shards in the Snow", KingdomName::Snow));
        moons[snow15].add_prereq_moon(snow5);
        let snow16 = moons.len();
        moons.push(Moon::new("Taking Notes: Snow Path Dash", KingdomName::Snow));
        moons[snow16].add_prereq_moon(snow5);
        let snow17 = moons.len();
        moons.push(Moon::new("Fishing in the Glacier!", KingdomName::Snow));
        moons[snow17].add_prereq_moon(snow5);
        moons.push(Moon::new("Ice-Dodging Goomba Stack", KingdomName::Snow));
        moons.push(Moon::new("Captain Toad is Chilly!", KingdomName::Snow));
        let snow20 = moons.len();
        moons.push(Moon::new("I'm Not Cold!", KingdomName::Snow));
        moons[snow20].add_prereq_moon(snow5);
        moons.push(Moon::new("Shopping in Shiveria", KingdomName::Snow));
        let snow22 = moons.len();
        moons.push(Moon::new("Walking on Ice!", KingdomName::Snow));
        moons[snow22].add_prereq_moon(snow5);
        let snow23 = moons.len();
        moons.push(Moon::new("Snowline Circuit Class S", KingdomName::Snow));
        moons[snow23].add_prereq_moon(snow5);
        let snow24 = moons.len();
        moons.push(Moon::new("Dashing Over Cold Water!", KingdomName::Snow));
        moons[snow24].add_prereq_moon(snow5);
        let snow25 = moons.len();
        moons.push(Moon::new("Dashing Above and Beyond!", KingdomName::Snow));
        moons[snow25].add_prereq_moon(snow5);
        let snow26 = moons.len();
        moons.push(Moon::new("Jump 'n' Swim in the Freezing Water", KingdomName::Snow));
        moons[snow26].add_prereq_moon(snow5);
        let snow27 = moons.len();
        moons.push(Moon::new("Freezing Water Near the Ceiling", KingdomName::Snow));
        moons[snow27].add_prereq_moon(snow5);
        let snow28 = moons.len();
        moons.push(Moon::new("Blowing and Sliding", KingdomName::Snow));
        moons[snow28].add_prereq_moon(snow5);
        moons.push(Moon::new("Moon Shards in the Cold Room", KingdomName::Snow));
        moons.push(Moon::new("Slip Behind the Ice", KingdomName::Snow));
        let snow31 = moons.len();
        moons.push(Moon::new("Spinning Above the Clouds", KingdomName::Snow));
        moons[snow31].add_prereq_moon(snow5);
        let snow32 = moons.len();
        moons.push(Moon::new("High-Altitude Spinning", KingdomName::Snow));
        moons[snow32].add_prereq_moon(snow5);
        let snow33 = moons.len();
        moons.push(Moon::new("Secret Path to Shiveria", KingdomName::Snow));
        moons[snow33].add_prereq_kingdom(KingdomName::Mushroom);
        moons[snow33].add_prereq_kingdom_count(KingdomName::Snow, 2);
        let snow35 = moons.len();
        moons.push(Moon::new("Snow Kingdom Regular Cup", KingdomName::Snow));
        moons[snow35].add_prereq_kingdom(KingdomName::Mushroom);
        let snow36 = moons.len();
        moons.push(Moon::new("Hat-and-Seek in the Snow", KingdomName::Snow));
        moons[snow36].add_prereq_kingdom(KingdomName::Mushroom);
        let snow37 = moons.len();
        moons.push(Moon::new("Peach in the Snow Kingdom", KingdomName::Snow));
        moons[snow37].add_prereq_kingdom(KingdomName::Mushroom);
        let snow38 = moons.len();
        moons.push(Moon::new("Shining on High", KingdomName::Snow));
        moons[snow38].add_prereq_kingdom(KingdomName::Mushroom);
        let snow39 = moons.len();
        moons.push(Moon::new("Above the Freezing Fish Pond", KingdomName::Snow));
        moons[snow39].add_prereq_kingdom(KingdomName::Mushroom);
        let snow40 = moons.len();
        moons.push(Moon::new("Ice Floe Swimming", KingdomName::Snow));
        moons[snow40].add_prereq_kingdom(KingdomName::Mushroom);
        let snow41 = moons.len();
        moons.push(Moon::new("Icy Jump Challenge", KingdomName::Snow));
        moons[snow41].add_prereq_kingdom(KingdomName::Mushroom);
        let snow42 = moons.len();
        moons.push(Moon::new("Forgotten in the Holding Room", KingdomName::Snow));
        moons[snow42].add_prereq_kingdom(KingdomName::Mushroom);
        let snow43 = moons.len();
        moons.push(Moon::new("It Popped Out of the Ice", KingdomName::Snow));
        moons[snow43].add_prereq_kingdom(KingdomName::Mushroom);
        let snow44 = moons.len();
        moons.push(Moon::new("Deep in the Cold, Cold Water", KingdomName::Snow));
        moons[snow44].add_prereq_kingdom(KingdomName::Mushroom);
        let snow45 = moons.len();
        moons.push(Moon::new("Water Pooling in the Crevasse", KingdomName::Snow));
        moons[snow45].add_prereq_kingdom(KingdomName::Mushroom);
        let snow46 = moons.len();
        moons.push(Moon::new("Squirming Under Ice", KingdomName::Snow));
        moons[snow46].add_prereq_kingdom(KingdomName::Mushroom);
        let snow47 = moons.len();
        moons.push(Moon::new("Snow Kingdom Timer Challenge 3", KingdomName::Snow));
        moons[snow47].add_prereq_kingdom(KingdomName::Mushroom);
        let snow48 = moons.len();
        moons.push(Moon::new("Stacked-Up Ice Climb", KingdomName::Snow));
        moons[snow48].add_prereq_kingdom(KingdomName::Mushroom);
        let snow49 = moons.len();
        moons.push(Moon::new("I Met a Snow Cheep Cheep!", KingdomName::Snow));
        moons[snow49].add_prereq_kingdom(KingdomName::Mushroom);
        let snow50 = moons.len();
        moons.push(Moon::new("Even More Walking on Ice", KingdomName::Snow));
        moons[snow50].add_prereq_kingdom(KingdomName::Mushroom);
        moons[snow50].add_prereq_moon(snow22);
        let snow51 = moons.len();
        moons.push(Moon::new("Snow Kingdom Master Cup", KingdomName::Snow));
        moons[snow51].add_prereq_kingdom(KingdomName::Mushroom);
        moons[snow51].add_prereq_moon(snow35);
        let snow52 = moons.len();
        moons.push(Moon::new("Iceburn Circuit Class A", KingdomName::Snow));
        moons[snow52].add_prereq_kingdom(KingdomName::Mushroom);
        let snow53 = moons.len();
        moons.push(Moon::new("Iceburn Circuit Class S", KingdomName::Snow));
        moons[snow53].add_prereq_kingdom(KingdomName::Mushroom);
        moons[snow53].add_prereq_moon(snow52);
        let snow54 = moons.len();
        moons.push(Moon::new("Running the Flower Road", KingdomName::Snow));
        moons[snow54].add_prereq_kingdom(KingdomName::Mushroom);
        let snow55 = moons.len();
        moons.push(Moon::new("Looking Back on the Flower Road", KingdomName::Snow));
        moons[snow55].add_prereq_kingdom(KingdomName::Mushroom);
        offset.push((snow1, moons.len()));

        // seaside kingdom
        let seaside1 = moons.len();
        moons.push(Moon::new("The Stone Pillar Seal", KingdomName::Seaside));
        let seaside2 = moons.len();
        moons.push(Moon::new("The Lighthouse Seal", KingdomName::Seaside));
        let seaside3 = moons.len();
        moons.push(Moon::new("The Hot Sprint Seal", KingdomName::Seaside));
        let seaside4 = moons.len();
        moons.push(Moon::new("The Seal Above the Canyon", KingdomName::Seaside));
        let seaside5 = moons.len();
        moons.push(Moon::new_multi("The Glass is Half Full", KingdomName::Seaside));
        moons[seaside5].add_prereq_moon(seaside1);
        moons[seaside5].add_prereq_moon(seaside2);
        moons[seaside5].add_prereq_moon(seaside3);
        moons[seaside5].add_prereq_moon(seaside4);
        kingdoms.kingdom_mut(KingdomName::Seaside).set_exit_moon(seaside5);
        moons[cascade18].add_prereq_moon(seaside5);
        moons[lake26].add_prereq_moon(seaside5);
        moons[wooded49].add_prereq_moon(seaside5);
        moons.push(Moon::new("On the Cliff Overlooking the Beach", KingdomName::Seaside));
        moons.push(Moon::new("Ride the Jetstream", KingdomName::Seaside));
        moons.push(Moon::new("Ocean-Bottom Maze: Treasure", KingdomName::Seaside));
        moons.push(Moon::new("Ocean-Bottom Maze: Hidden Room", KingdomName::Seaside));
        moons.push(Moon::new("Underwater Highway Tunnel", KingdomName::Seaside));
        moons.push(Moon::new("Shh! It's a Shortcut!", KingdomName::Seaside));
        moons.push(Moon::new("Gap in the Ocean Trench", KingdomName::Seaside));
        moons.push(Moon::new("Slip Through the Nesting Spot", KingdomName::Seaside));
        moons.push(Moon::new("Merci, Dorrie!", KingdomName::Seaside));
        let seaside15 = moons.len();
        moons.push(Moon::new("Bonjour, Dorrie!", KingdomName::Seaside));
        moons[seaside15].add_prereq_moon(seaside5);
        moons.push(Moon::new("Under a Dangerous Ceiling", KingdomName::Seaside));
        moons.push(Moon::new("What the Waves Left Behind", KingdomName::Seaside));
        moons.push(Moon::new("The Back Canyon: Excavate!", KingdomName::Seaside));
        moons.push(Moon::new("Bubblaine Northern Reaches", KingdomName::Seaside));
        moons.push(Moon::new("Wriggling on the Sandy Bottom", KingdomName::Seaside));
        moons.push(Moon::new("Glass Palace Treasure Chest", KingdomName::Seaside));
        moons.push(Moon::new("Treasure Trap Hidden in the Inlet", KingdomName::Seaside));
        moons.push(Moon::new("Sea Gardening: Inlet Seed", KingdomName::Seaside));
        moons.push(Moon::new("Sea Gardening: Canyon Seed", KingdomName::Seaside));
        moons.push(Moon::new("Sea Gardening: Hot-Spring Seed", KingdomName::Seaside));
        moons.push(Moon::new("Sea Gardening: Ocean Trench Seed", KingdomName::Seaside));
        moons.push(Moon::new("Seaside Kingdom Timer Challenge 1", KingdomName::Seaside));
        let seaside28 = moons.len();
        moons.push(Moon::new("Seaside Kingdom Timer Challenge 2", KingdomName::Seaside));
        moons[seaside28].add_prereq_moon(seaside5);
        let seaside29 = moons.len();
        moons.push(Moon::new("Found on the Beach! Good Dog!", KingdomName::Seaside));
        moons[seaside29].add_prereq_moon(seaside5);
        moons.push(Moon::new("Moon Shards in the Sea", KingdomName::Seaside));
        moons.push(Moon::new("Taking Notes: Ocean Surface Dash", KingdomName::Seaside));
        moons.push(Moon::new("Love by the Seaside", KingdomName::Seaside));
        let seaside33 = moons.len();
        moons.push(Moon::new("Lighthouse Leaper", KingdomName::Seaside));
        moons[seaside33].add_prereq_moon(seaside5);
        moons.push(Moon::new("Good Job, Captain Toad!", KingdomName::Seaside));
        moons.push(Moon::new("Ocean Quiz: Good!", KingdomName::Seaside));
        moons.push(Moon::new("Shopping in Bubblaine", KingdomName::Seaside));
        let seaside37 = moons.len();
        moons.push(Moon::new("Beach Volleyball: Champ", KingdomName::Seaside));
        moons[seaside37].add_prereq_moon(seaside5);
        let seaside38 = moons.len();
        moons.push(Moon::new("Beach Volleyball: Hero of the Beach!", KingdomName::Seaside));
        moons[seaside38].add_prereq_moon(seaside37);
        moons.push(Moon::new("Looking Back in the Dark Waterway", KingdomName::Seaside));
        moons.push(Moon::new("The Sphynx's Underwater Vault", KingdomName::Seaside));
        moons.push(Moon::new("A Rumble on the Seaside Floor", KingdomName::Seaside));
        moons.push(Moon::new("A Relaxing Dance", KingdomName::Seaside));
        moons.push(Moon::new("Wading in the Cloud Sea", KingdomName::Seaside));
        moons.push(Moon::new("Sunken Treasure in the Cloud Sea", KingdomName::Seaside));
        moons.push(Moon::new("Fly Through the Narrow Valley", KingdomName::Seaside));
        moons.push(Moon::new("Treasure Chest in the Narrow Valley", KingdomName::Seaside));
        moons.push(Moon::new("Hurry and Stretch", KingdomName::Seaside));
        moons.push(Moon::new("Stretch on the Side Path", KingdomName::Seaside));
        let seaside49 = moons.len();
        moons.push(Moon::new("Secret Path to Bubblaine!", KingdomName::Seaside));
        moons[seaside49].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside51 = moons.len();
        moons.push(Moon::new("Seaside Kingdom Regular Cup", KingdomName::Seaside));
        moons[seaside51].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside52 = moons.len();
        moons.push(Moon::new("Peach in the Seaside Kingdom", KingdomName::Seaside));
        moons[seaside52].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside53 = moons.len();
        moons.push(Moon::new("Above the Parasol: Catch!", KingdomName::Seaside));
        moons[seaside53].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside54 = moons.len();
        moons.push(Moon::new("What Shines Inside the Glass", KingdomName::Seaside));
        moons[seaside54].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside55 = moons.len();
        moons.push(Moon::new("A Fine Detail on the Glass", KingdomName::Seaside));
        moons[seaside55].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside56 = moons.len();
        moons.push(Moon::new("Underwater Highway West: Explore!", KingdomName::Seaside));
        moons[seaside56].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside57 = moons.len();
        moons.push(Moon::new("Underwater Highway East: Explore!", KingdomName::Seaside));
        moons[seaside57].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside58 = moons.len();
        moons.push(Moon::new("Rapid Ascent on Hot Spring Island", KingdomName::Seaside));
        moons[seaside58].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside59 = moons.len();
        moons.push(Moon::new("A Light Next to the Lighthouse", KingdomName::Seaside));
        moons[seaside59].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside60 = moons.len();
        moons.push(Moon::new("The Tall Rock Shelf in the Deep Ocean", KingdomName::Seaside));
        moons[seaside60].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside61 = moons.len();
        moons.push(Moon::new("At the Base of the Lighthouse", KingdomName::Seaside));
        moons[seaside61].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside62 = moons.len();
        moons.push(Moon::new("Bird Traveling Over the Ocean", KingdomName::Seaside));
        moons[seaside62].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside63 = moons.len();
        moons.push(Moon::new("Caught Hopping at Glass Palace!", KingdomName::Seaside));
        moons[seaside63].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside64 = moons.len();
        moons.push(Moon::new("Seaside Kingdom Timer Challenge 3", KingdomName::Seaside));
        moons[seaside64].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside65 = moons.len();
        moons.push(Moon::new("Taking Notes: Ocean-Bottom Maze", KingdomName::Seaside));
        moons[seaside65].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside66 = moons.len();
        moons.push(Moon::new("Taking Notes in the Sea", KingdomName::Seaside));
        moons[seaside66].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside67 = moons.len();
        moons.push(Moon::new("Seaside Kingdom Master Cup", KingdomName::Seaside));
        moons[seaside67].add_prereq_kingdom(KingdomName::Mushroom);
        moons[seaside67].add_prereq_moon(seaside51);
        let seaside68 = moons.len();
        moons.push(Moon::new("Aim! Poke!", KingdomName::Seaside));
        moons[seaside68].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside69 = moons.len();
        moons.push(Moon::new("Poke! Roll!", KingdomName::Seaside));
        moons[seaside69].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside70 = moons.len();
        moons.push(Moon::new("The Spinning Maze: Search!", KingdomName::Seaside));
        moons[seaside70].add_prereq_kingdom(KingdomName::Mushroom);
        let seaside71 = moons.len();
        moons.push(Moon::new("The Spinning Maze: Open!", KingdomName::Seaside));
        moons[seaside71].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon49 = moons.len();
        moons.push(Moon::new("Found with Luncheon Kingdom Art", KingdomName::Seaside));
        moons[luncheon49].add_prereq_kingdom(KingdomName::Luncheon);
        offset.push((seaside1, moons.len()));

        // luncheon kingdom
        let luncheon1 = moons.len();
        moons.push(Moon::new("The Broodals Are After Some Cookin'", KingdomName::Luncheon));
        let luncheon2 = moons.len();
        moons.push(Moon::new("Under the Cheese Rocks", KingdomName::Luncheon));
        moons[luncheon2].add_prereq_moon(luncheon1);
        let luncheon3 = moons.len();
        moons.push(Moon::new_multi("Big Pot on the Volcano: Dive In!", KingdomName::Luncheon));
        moons[luncheon3].add_prereq_moon(luncheon2);
        let luncheon4 = moons.len();
        moons.push(Moon::new("Climb Up the Cascading Magma", KingdomName::Luncheon));
        moons[luncheon4].add_prereq_moon(luncheon3);
        let luncheon5 = moons.len();
        moons.push(Moon::new_multi("Cookatiel Showdown!", KingdomName::Luncheon));
        moons[luncheon5].add_prereq_moon(luncheon4);
        kingdoms.kingdom_mut(KingdomName::Luncheon).set_exit_moon(luncheon5);
        moons.push(Moon::new("Piled on the Salt", KingdomName::Luncheon));
        moons.push(Moon::new("Lurking in the Pillar's Shadow", KingdomName::Luncheon));
        let luncheon8 = moons.len();
        moons.push(Moon::new("Atop the Jutting Crag", KingdomName::Luncheon));
        moons[luncheon8].add_prereq_moon(luncheon3);
        let luncheon9 = moons.len();
        moons.push(Moon::new("Is This an Ingredient Too?!", KingdomName::Luncheon));
        moons[luncheon9].add_prereq_moon(luncheon1);
        let luncheon10 = moons.len();
        moons.push(Moon::new("Atop a Column in a Row", KingdomName::Luncheon));
        moons[luncheon10].add_prereq_moon(luncheon1);
        let luncheon11 = moons.len();
        moons.push(Moon::new("Surrounded by Tall Mountains", KingdomName::Luncheon));
        moons[luncheon11].add_prereq_moon(luncheon2);
        let luncheon12 = moons.len();
        moons.push(Moon::new("Island of Salt Floating in the Lava", KingdomName::Luncheon));
        moons[luncheon12].add_prereq_moon(luncheon1);
        let luncheon13 = moons.len();
        moons.push(Moon::new("Overlooking a Bunch of Ingredients", KingdomName::Luncheon));
        moons[luncheon13].add_prereq_moon(luncheon2);
        let luncheon14 = moons.len();
        moons.push(Moon::new("Light the Lantern on the Small Island", KingdomName::Luncheon));
        moons[luncheon14].add_prereq_moon(luncheon2);
        let luncheon15 = moons.len();
        moons.push(Moon::new("Golden Turnip Recipe 1", KingdomName::Luncheon));
        moons[luncheon15].add_prereq_moon(luncheon1);
        let luncheon16 = moons.len();
        moons.push(Moon::new("Golden Turnip Recipe 2", KingdomName::Luncheon));
        moons[luncheon16].add_prereq_moon(luncheon3);
        let luncheon17 = moons.len();
        moons.push(Moon::new("Golden Turnip Recipe 3", KingdomName::Luncheon));
        moons[luncheon17].add_prereq_moon(luncheon2);
        moons.push(Moon::new("Luncheon Kingdom Timer Challenge 1", KingdomName::Luncheon));
        let luncheon19 = moons.len();
        moons.push(Moon::new("Luncheon Kingdom Timer Challenge 2", KingdomName::Luncheon));
        moons[luncheon19].add_prereq_moon(luncheon2);
        let luncheon20 = moons.len();
        moons.push(Moon::new("Luncheon Kingdom Timer Challenge 3", KingdomName::Luncheon));
        moons[luncheon20].add_prereq_moon(luncheon5);
        let luncheon21 = moons.len();
        moons.push(Moon::new("Beneath the Rolling Vegetables", KingdomName::Luncheon));
        moons[luncheon21].add_prereq_moon(luncheon2);
        let luncheon22 = moons.len();
        moons.push(Moon::new("All the Cracks are Fixed", KingdomName::Luncheon));
        moons[luncheon22].add_prereq_moon(luncheon2);
        let luncheon23 = moons.len();
        moons.push(Moon::new("Taking Notes: Swimming in Magma", KingdomName::Luncheon));
        moons[luncheon23].add_prereq_moon(luncheon2);
        moons.push(Moon::new("Love Above the Lava", KingdomName::Luncheon));
        let luncheon25 = moons.len();
        moons.push(Moon::new("Shopping in Mount Volbono", KingdomName::Luncheon));
        moons[luncheon25].add_prereq_moon(luncheon1);
        let luncheon26 = moons.len();
        moons.push(Moon::new("Luncheon Kingdom Slots", KingdomName::Luncheon));
        moons[luncheon26].add_prereq_moon(luncheon1);
        let luncheon27 = moons.len();
        moons.push(Moon::new("A Strong Simmer", KingdomName::Luncheon));
        moons[luncheon27].add_prereq_moon(luncheon1);
        let luncheon28 = moons.len();
        moons.push(Moon::new("An Extreme Simmer", KingdomName::Luncheon));
        moons[luncheon28].add_prereq_moon(luncheon1);
        let luncheon29 = moons.len();
        moons.push(Moon::new("Alcove Behind the Pillars of Magma", KingdomName::Luncheon));
        moons[luncheon29].add_prereq_moon(luncheon3);
        let luncheon30 = moons.len();
        moons.push(Moon::new("Treasure Beneath the Cheese Rocks", KingdomName::Luncheon));
        moons[luncheon30].add_prereq_moon(luncheon3);
        let luncheon31 = moons.len();
        moons.push(Moon::new("Light the Two Flames", KingdomName::Luncheon));
        moons[luncheon31].add_prereq_moon(luncheon3);
        let luncheon32 = moons.len();
        moons.push(Moon::new("Light the Far-Off Lanterns", KingdomName::Luncheon));
        moons[luncheon32].add_prereq_moon(luncheon4);
        let luncheon33 = moons.len();
        moons.push(Moon::new("Bon Appetit, Captain Toad!", KingdomName::Luncheon));
        moons[luncheon33].add_prereq_moon(luncheon4);
        let luncheon34 = moons.len();
        moons.push(Moon::new("The Treasure Chest in the Veggies", KingdomName::Luncheon));
        moons[luncheon34].add_prereq_moon(luncheon3);
        let luncheon35 = moons.len();
        moons.push(Moon::new("Caught Hopping in the Volcano!", KingdomName::Luncheon));
        moons[luncheon35].add_prereq_moon(luncheon5);
        let luncheon36 = moons.len();
        moons.push(Moon::new("Taking Notes: Big Pot Swim", KingdomName::Luncheon));
        moons[luncheon36].add_prereq_moon(luncheon5);
        let luncheon37 = moons.len();
        moons.push(Moon::new("Magma Swamp: Floating and Sinking", KingdomName::Luncheon));
        moons[luncheon37].add_prereq_moon(luncheon1);
        let luncheon38 = moons.len();
        moons.push(Moon::new("Corner of the Magma Swamp", KingdomName::Luncheon));
        moons[luncheon38].add_prereq_moon(luncheon1);
        let luncheon39 = moons.len();
        moons.push(Moon::new("Magma Narrow Swamp", KingdomName::Luncheon));
        moons[luncheon39].add_prereq_moon(luncheon2);
        let luncheon40 = moons.len();
        moons.push(Moon::new("Crossing to the Magma", KingdomName::Luncheon));
        moons[luncheon40].add_prereq_moon(luncheon2);
        let luncheon41 = moons.len();
        moons.push(Moon::new("Fork Flickin' to the Summit", KingdomName::Luncheon));
        moons[luncheon41].add_prereq_moon(luncheon1);
        let luncheon42 = moons.len();
        moons.push(Moon::new("Fork Flickin' Detour", KingdomName::Luncheon));
        moons[luncheon42].add_prereq_moon(luncheon1);
        let luncheon43 = moons.len();
        moons.push(Moon::new("Excavate 'n' Search the Cheese Rocks", KingdomName::Luncheon));
        moons[luncheon43].add_prereq_moon(luncheon1);
        let luncheon44 = moons.len();
        moons.push(Moon::new("Climb the Cheese Rocks", KingdomName::Luncheon));
        moons[luncheon44].add_prereq_moon(luncheon1);
        let luncheon45 = moons.len();
        moons.push(Moon::new("Spinning Athletics End Goal", KingdomName::Luncheon));
        moons[luncheon45].add_prereq_moon(luncheon2);
        let luncheon46 = moons.len();
        moons.push(Moon::new("Taking Notes: Spinning Athletics", KingdomName::Luncheon));
        moons[luncheon46].add_prereq_moon(luncheon2);
        let luncheon47 = moons.len();
        moons.push(Moon::new("Secret Path to Mount Volbono!", KingdomName::Luncheon));
        moons[luncheon47].add_prereq_kingdom(KingdomName::Mushroom);
        moons[luncheon47].add_prereq_kingdom_count(KingdomName::Lake, 2);
        moons[luncheon47].add_prereq_kingdom_count(KingdomName::Wooded, 2);
        moons[luncheon47].add_prereq_moon(wooded2);
        let luncheon48 = moons.len();
        moons.push(Moon::new("A Tourist in the Luncheon Kingdom!", KingdomName::Luncheon));
        moons[luncheon48].add_prereq_moon(luncheon5);
        moons[luncheon48].add_prereq_moon(cascade19);
        moons[luncheon49].add_prereq_moon(luncheon5);
        let luncheon50 = moons.len();
        moons.push(Moon::new("The Rooftop Lantern", KingdomName::Luncheon));
        moons[luncheon50].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon51 = moons.len();
        moons.push(Moon::new("Jammin' in the Luncheon Kingdom", KingdomName::Luncheon));
        moons[luncheon51].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon52 = moons.len();
        moons.push(Moon::new("Mechanic: Repairs Complete!", KingdomName::Luncheon));
        moons[luncheon52].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon53 = moons.len();
        moons.push(Moon::new("Diving from the Big Pot!", KingdomName::Luncheon));
        moons[luncheon53].add_prereq_kingdom(KingdomName::Mushroom);
        moons[luncheon53].add_prereq_moon(luncheon5);
        let luncheon54 = moons.len();
        moons.push(Moon::new("Hat-and-Seek: Among the Food", KingdomName::Luncheon));
        moons[luncheon54].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon55 = moons.len();
        moons.push(Moon::new("Luncheon Kingdom: Regular Cup", KingdomName::Luncheon));
        moons[luncheon55].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon56 = moons.len();
        moons.push(Moon::new("Peach in the Luncheon Kingdom", KingdomName::Luncheon));
        moons[luncheon56].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon57 = moons.len();
        moons.push(Moon::new("From Inside a Bright Stone", KingdomName::Luncheon));
        moons[luncheon57].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon58 = moons.len();
        moons.push(Moon::new("Under the Meat Plateau", KingdomName::Luncheon));
        moons[luncheon58].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon59 = moons.len();
        moons.push(Moon::new("On Top of a Tall, Tall Roof", KingdomName::Luncheon));
        moons[luncheon59].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon60 = moons.len();
        moons.push(Moon::new("From a Crack in the Hard Ground", KingdomName::Luncheon));
        moons[luncheon60].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon61 = moons.len();
        moons.push(Moon::new("By the Cannon Pointed at the Big Pot", KingdomName::Luncheon));
        moons[luncheon61].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon62 = moons.len();
        moons.push(Moon::new("Luncheon Kingdom: Master Cup", KingdomName::Luncheon));
        moons[luncheon62].add_prereq_kingdom(KingdomName::Mushroom);
        moons[luncheon62].add_prereq_moon(luncheon55);
        let luncheon63 = moons.len();
        moons.push(Moon::new("Stepping Over the Gears", KingdomName::Luncheon));
        moons[luncheon63].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon64 = moons.len();
        moons.push(Moon::new("Lanterns on the Gear Steps", KingdomName::Luncheon));
        moons[luncheon64].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon65 = moons.len();
        moons.push(Moon::new("Volcano Cave Cruisin'", KingdomName::Luncheon));
        moons[luncheon65].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon66 = moons.len();
        moons.push(Moon::new("Volcano Cave and Mysterious Clouds", KingdomName::Luncheon));
        moons[luncheon66].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon67 = moons.len();
        moons.push(Moon::new("Treasure of the Lava Islands", KingdomName::Luncheon));
        moons[luncheon67].add_prereq_kingdom(KingdomName::Mushroom);
        let luncheon68 = moons.len();
        moons.push(Moon::new("Flying Over the Lava Islands", KingdomName::Luncheon));
        moons[luncheon68].add_prereq_kingdom(KingdomName::Mushroom);
        offset.push((luncheon1, moons.len()));

        // ruined kingdom
        let ruined1 = moons.len();
        moons.push(Moon::new_multi("Battle with the Lord of Lightning!", KingdomName::Ruined));
        kingdoms.kingdom_mut(KingdomName::Ruined).set_exit_moon(ruined1);
        moons.push(Moon::new("In the Ancient Treasure Chest", KingdomName::Ruined));
        let ruined3 = moons.len();
        moons.push(Moon::new("Roulette Tower: Climbed", KingdomName::Ruined));
        moons[ruined3].add_prereq_moon(ruined1);
        let ruined4 = moons.len();
        moons.push(Moon::new("Roulette Tower: Stopped", KingdomName::Ruined));
        moons[ruined4].add_prereq_moon(ruined1);
        let ruined5 = moons.len();
        moons.push(Moon::new("Peach in the Ruined Kingdom", KingdomName::Ruined));
        moons[ruined5].add_prereq_kingdom(KingdomName::Mushroom);
        let ruined6 = moons.len();
        moons.push(Moon::new("Caught on a Big Horn", KingdomName::Ruined));
        moons[ruined6].add_prereq_kingdom(KingdomName::Mushroom);
        let ruined7 = moons.len();
        moons.push(Moon::new("Upon the Broken Arch", KingdomName::Ruined));
        moons[ruined7].add_prereq_kingdom(KingdomName::Mushroom);
        let ruined8 = moons.len();
        moons.push(Moon::new("Rolling Rock on the Battlefield", KingdomName::Ruined));
        moons[ruined8].add_prereq_kingdom(KingdomName::Mushroom);
        let ruined9 = moons.len();
        moons.push(Moon::new("Charging Through an Army", KingdomName::Ruined));
        moons[ruined9].add_prereq_kingdom(KingdomName::Mushroom);
        let ruined10 = moons.len();
        moons.push(Moon::new("The Mummy Army's Curse", KingdomName::Ruined));
        moons[ruined10].add_prereq_kingdom(KingdomName::Mushroom);
        offset.push((ruined1, moons.len()));

        // bowser's kingdom
        let bowser1 = moons.len();
        moons.push(Moon::new("Infiltrate Bowser's Castle", KingdomName::Bowser));
        let bowser2 = moons.len();
        moons.push(Moon::new("Smart Bombing", KingdomName::Bowser));
        moons[bowser2].add_prereq_moon(bowser1);
        let bowser3 = moons.len();
        moons.push(Moon::new("Big Broodal Battle", KingdomName::Bowser));
        moons[bowser3].add_prereq_moon(bowser2);
        let bowser4 = moons.len();
        moons.push(Moon::new_multi("Showdown at Bowser's Castle", KingdomName::Bowser));
        kingdoms.kingdom_mut(KingdomName::Bowser).set_exit_moon(bowser4);
        moons[bowser4].add_prereq_moon(bowser3);
        moons.push(Moon::new("Behind the Big Wall", KingdomName::Bowser));
        let bowser6 = moons.len();
        moons.push(Moon::new("Treasure Inside the Turret", KingdomName::Bowser));
        moons[bowser6].add_prereq_moon(bowser1);
        let bowser7 = moons.len();
        moons.push(Moon::new("From the Side Above the Castle Gate", KingdomName::Bowser));
        moons[bowser7].add_prereq_moon(bowser2);
        let bowser8 = moons.len();
        moons.push(Moon::new("Sunken Treasure in the Moat", KingdomName::Bowser));
        moons[bowser8].add_prereq_moon(bowser3);
        let bowser9 = moons.len();
        moons.push(Moon::new("Past the Moving Wall", KingdomName::Bowser));
        moons[bowser9].add_prereq_moon(bowser4);
        let bowser10 = moons.len();
        moons.push(Moon::new("Above the Poison Swamp", KingdomName::Bowser));
        moons[bowser10].add_prereq_moon(bowser4);
        let bowser11 = moons.len();
        moons.push(Moon::new("Knocking Down the Nice Frame", KingdomName::Bowser));
        moons[bowser11].add_prereq_moon(bowser4);
        moons.push(Moon::new("Caught on the Iron Fence", KingdomName::Bowser));
        let bowser13 = moons.len();
        moons.push(Moon::new("On the Giant Bowser Statue's Nose", KingdomName::Bowser));
        moons[bowser13].add_prereq_moon(bowser3);
        let bowser14 = moons.len();
        moons.push(Moon::new("Inside a Block in the Castle", KingdomName::Bowser));
        moons[bowser14].add_prereq_moon(bowser3);
        let bowser15 = moons.len();
        moons.push(Moon::new("Caught Hopping at Bowser's Castle", KingdomName::Bowser));
        moons[bowser15].add_prereq_moon(bowser4);
        let bowser16 = moons.len();
        moons.push(Moon::new("Exterminate the Ogres", KingdomName::Bowser));
        moons[bowser16].add_prereq_moon(bowser2);
        let bowser17 = moons.len();
        moons.push(Moon::new("Bowser's Kingdom Timer Challenge 1", KingdomName::Bowser));
        moons[bowser17].add_prereq_moon(bowser4);
        moons.push(Moon::new("Taking Notes: Between Spinies", KingdomName::Bowser));
        moons.push(Moon::new("Stack Up Above the Wall", KingdomName::Bowser));
        let bowser20 = moons.len();
        moons.push(Moon::new("Hidden Corridor Under the Floor", KingdomName::Bowser));
        moons[bowser20].add_prereq_moon(bowser3);
        let bowser21 = moons.len();
        moons.push(Moon::new("Poking Your Nose in the Plaster Wall", KingdomName::Bowser));
        moons[bowser21].add_prereq_moon(bowser1);
        let bowser22 = moons.len();
        moons.push(Moon::new("Poking the Turret Wall", KingdomName::Bowser));
        moons[bowser22].add_prereq_moon(bowser1);
        let bowser23 = moons.len();
        moons.push(Moon::new("Poking Your Nose by the Great Gate", KingdomName::Bowser));
        moons[bowser23].add_prereq_moon(bowser3);
        let bowser24 = moons.len();
        moons.push(Moon::new("Jizo All in a Row", KingdomName::Bowser));
        moons[bowser24].add_prereq_moon(bowser2);
        let bowser25 = moons.len();
        moons.push(Moon::new("Underground Jizo", KingdomName::Bowser));
        moons[bowser25].add_prereq_moon(bowser2);
        let bowser26 = moons.len();
        moons.push(Moon::new("Found Behind Bars!", KingdomName::Bowser));
        moons[bowser26].add_prereq_moon(bowser3);
        let bowser27 = moons.len();
        moons.push(Moon::new("Fishing(?) in Bowser's Castle", KingdomName::Bowser));
        moons[bowser27].add_prereq_moon(bowser4);
        let bowser28 = moons.len();
        moons.push(Moon::new("Good to See You, Captain Toad!", KingdomName::Bowser));
        moons[bowser28].add_prereq_moon(bowser3);
        let bowser29 = moons.len();
        moons.push(Moon::new("Shopping at Bowser's Castle", KingdomName::Bowser));
        moons[bowser29].add_prereq_moon(bowser1);
        let bowser30 = moons.len();
        moons.push(Moon::new("Bowser's Castle Treasure Vault", KingdomName::Bowser));
        moons[bowser30].add_prereq_moon(bowser4);
        let bowser31 = moons.len();
        moons.push(Moon::new("Scene of Crossing the Poison Swamp", KingdomName::Bowser));
        moons[bowser31].add_prereq_moon(bowser1);
        let bowser32 = moons.len();
        moons.push(Moon::new("Taking Notes: In the Folding Screen", KingdomName::Bowser));
        moons[bowser32].add_prereq_moon(bowser1);
        let bowser33 = moons.len();
        moons.push(Moon::new("On Top of the Spinning Tower", KingdomName::Bowser));
        moons[bowser33].add_prereq_moon(bowser4);
        let bowser34 = moons.len();
        moons.push(Moon::new("Down and Up the Spinning Tower", KingdomName::Bowser));
        moons[bowser34].add_prereq_moon(bowser4);
        let bowser35 = moons.len();
        moons.push(Moon::new("Jizo's Big Adventure", KingdomName::Bowser));
        moons[bowser35].add_prereq_moon(bowser4);
        let bowser36 = moons.len();
        moons.push(Moon::new("Jizo and the Hidden Room", KingdomName::Bowser));
        moons[bowser36].add_prereq_moon(bowser4);
        let bowser37 = moons.len();
        moons.push(Moon::new("Dashing Above the Clouds", KingdomName::Bowser));
        moons[bowser37].add_prereq_moon(bowser3);
        let bowser38 = moons.len();
        moons.push(Moon::new("Dashing Through the Clouds", KingdomName::Bowser));
        moons[bowser38].add_prereq_moon(bowser3);
        let bowser39 = moons.len();
        moons.push(Moon::new("Sphynx Over Bowser's Castle", KingdomName::Bowser));
        moons[bowser39].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser40 = moons.len();
        moons.push(Moon::new("I Met a Pokio!", KingdomName::Bowser));
        moons[bowser40].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser41 = moons.len();
        moons.push(Moon::new("Bowser's Kingdom Regular Cup", KingdomName::Bowser));
        moons[bowser41].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser42 = moons.len();
        moons.push(Moon::new("A Rumble Under the Arena Floor", KingdomName::Bowser));
        moons[bowser42].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser43 = moons.len();
        moons.push(Moon::new("Secret Path to Bowser's Castle", KingdomName::Bowser));
        moons[bowser43].add_prereq_kingdom(KingdomName::Mushroom);
        moons[bowser43].add_prereq_kingdom_count(KingdomName::Cascade, 2);
        let bowser44 = moons.len();
        moons.push(Moon::new("Peach in Bowser's Kingdom", KingdomName::Bowser));
        moons[bowser44].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser46 = moons.len();
        moons.push(Moon::new("Behind the Tall Wall: Poke, Poke!", KingdomName::Bowser));
        moons[bowser46].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser47 = moons.len();
        moons.push(Moon::new("From Crates in the Moat", KingdomName::Bowser));
        moons[bowser47].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser48 = moons.len();
        moons.push(Moon::new("Caught on the Giant Horn", KingdomName::Bowser));
        moons[bowser48].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser49 = moons.len();
        moons.push(Moon::new("Inside a Block at the Gate", KingdomName::Bowser));
        moons[bowser49].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser50 = moons.len();
        moons.push(Moon::new("Small Bird in Bowser's Castle", KingdomName::Bowser));
        moons[bowser50].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser51 = moons.len();
        moons.push(Moon::new("Invader in Bowser's Castle", KingdomName::Bowser));
        moons[bowser51].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser52 = moons.len();
        moons.push(Moon::new("Jumping from Flag to Flag", KingdomName::Bowser));
        moons[bowser52].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser53 = moons.len();
        moons.push(Moon::new("Bowser's Kingdom Timer Challenge 2", KingdomName::Bowser));
        moons[bowser53].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser54 = moons.len();
        moons.push(Moon::new("Taking Notes: On the Wall", KingdomName::Bowser));
        moons[bowser54].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser55 = moons.len();
        moons.push(Moon::new("Taking Notes with a Spinning Throw", KingdomName::Bowser));
        moons[bowser55].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser56 = moons.len();
        moons.push(Moon::new("Third Courtyard Outskirts", KingdomName::Bowser));
        moons[bowser56].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser57 = moons.len();
        moons.push(Moon::new("Stone Wall Circuit", KingdomName::Bowser));
        moons[bowser57].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser58 = moons.len();
        moons.push(Moon::new("Bowser's Kingdom Master Cup", KingdomName::Bowser));
        moons[bowser58].add_prereq_kingdom(KingdomName::Mushroom);
        moons[bowser58].add_prereq_moon(bowser41);
        let bowser59 = moons.len();
        moons.push(Moon::new("Searching Hexagon Tower", KingdomName::Bowser));
        moons[bowser59].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser60 = moons.len();
        moons.push(Moon::new("Center of Hexagon Tower", KingdomName::Bowser));
        moons[bowser60].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser61 = moons.len();
        moons.push(Moon::new("Climb the Wooden Tower", KingdomName::Bowser));
        moons[bowser61].add_prereq_kingdom(KingdomName::Mushroom);
        let bowser62 = moons.len();
        moons.push(Moon::new("Poke the Wooden Tower", KingdomName::Bowser));
        moons[bowser62].add_prereq_kingdom(KingdomName::Mushroom);
        let sand63 = moons.len();
        moons.push(Moon::new("Found with Sand Kingdom Art", KingdomName::Bowser));
        moons[sand63].add_prereq_kingdom(KingdomName::Mushroom);
        moons[sand63].add_prereq_kingdom_count(KingdomName::Sand, 2);
        offset.push((bowser1, moons.len()));

        // moon kingdom
        let moon1 = moons.len();
        moons.push(Moon::new("Shining Above the Moon", KingdomName::Moon));
        moons.push(Moon::new("Along the Cliff Face", KingdomName::Moon));
        moons.push(Moon::new("The Tip of a White Spire", KingdomName::Moon));
        moons.push(Moon::new("Rolling Rock on the Moon", KingdomName::Moon));
        moons.push(Moon::new("Caught Hopping on the Moon!", KingdomName::Moon));
        moons.push(Moon::new("Cliffside Treasure Chest", KingdomName::Moon));
        moons.push(Moon::new("Moon Kingdom Timer Challenge 1", KingdomName::Moon));
        moons.push(Moon::new("Taking Notes: On the Moon's Surface", KingdomName::Moon));
        moons.push(Moon::new("Under the Bowser Statue", KingdomName::Moon));
        moons.push(Moon::new("In a Hole in the Magma", KingdomName::Moon));
        moons.push(Moon::new("Around the Barrier Wall", KingdomName::Moon));
        moons.push(Moon::new("On Top of the Cannon", KingdomName::Moon));
        moons.push(Moon::new("Fly to the Treasure Chest and Back", KingdomName::Moon));
        moons.push(Moon::new("Up in the Rafters", KingdomName::Moon));
        let moon15 = moons.len();
        moons.push(Moon::new("Sneaking Around in the Crater", KingdomName::Moon));
        moons[moon15].add_prereq_kingdom(KingdomName::Mushroom);
        let moon16 = moons.len();
        moons.push(Moon::new("Found on the Moon, Good Dog!", KingdomName::Moon));
        moons[moon16].add_prereq_kingdom(KingdomName::Mushroom);
        let moon17 = moons.len();
        moons.push(Moon::new("Moon Shards on the Moon", KingdomName::Moon));
        moons[moon17].add_prereq_kingdom(KingdomName::Mushroom);
        let moon18 = moons.len();
        moons.push(Moon::new("Moon Quiz: Amazing!", KingdomName::Moon));
        moons[moon18].add_prereq_kingdom(KingdomName::Mushroom);
        let moon19 = moons.len();
        moons.push(Moon::new("Thanks, Captain Toad!", KingdomName::Moon));
        moons[moon19].add_prereq_kingdom(KingdomName::Mushroom);
        let moon20 = moons.len();
        moons.push(Moon::new("Shopping in Honeylune Ridge", KingdomName::Moon));
        moons[moon20].add_prereq_kingdom(KingdomName::Mushroom);
        let moon21 = moons.len();
        moons.push(Moon::new("Walking on the Moon!", KingdomName::Moon));
        moons[moon21].add_prereq_kingdom(KingdomName::Mushroom);
        let moon22 = moons.len();
        moons.push(Moon::new("Moon Kingdom Regular Cup!", KingdomName::Moon));
        moons[moon22].add_prereq_kingdom(KingdomName::Mushroom);
        let moon23 = moons.len();
        moons.push(Moon::new("Doctor in the House", KingdomName::Moon));
        moons[moon23].add_prereq_kingdom(KingdomName::Mushroom);
        let moon24 = moons.len();
        moons.push(Moon::new("Sphynx's Hidden Vault", KingdomName::Moon));
        moons[moon24].add_prereq_kingdom(KingdomName::Mushroom);
        let moon25 = moons.len();
        moons.push(Moon::new("A Tourist in the Moon Kingdom!", KingdomName::Moon));
        moons[moon25].add_prereq_kingdom(KingdomName::Mushroom);
        moons[moon25].add_prereq_moon(luncheon48);
        let moon26 = moons.len();
        moons.push(Moon::new("Peach in the Moon Kingdom", KingdomName::Moon));
        moons[moon26].add_prereq_kingdom(KingdomName::Mushroom);
        moons[moon26].add_prereq_moon(cap16);
        moons[moon26].add_prereq_moon(cascade21);
        moons[moon26].add_prereq_moon(sand69);
        moons[moon26].add_prereq_moon(lake33);
        moons[moon26].add_prereq_moon(wooded54);
        moons[moon26].add_prereq_moon(cloud2);
        moons[moon26].add_prereq_moon(lost25);
        moons[moon26].add_prereq_moon(metro66);
        moons[moon26].add_prereq_moon(snow37);
        moons[moon26].add_prereq_moon(seaside52);
        moons[moon26].add_prereq_moon(luncheon56);
        moons[moon26].add_prereq_moon(ruined5);
        moons[moon26].add_prereq_moon(bowser44);
        let moon28 = moons.len();
        moons.push(Moon::new("Mysterious Flying Object", KingdomName::Moon));
        moons[moon28].add_prereq_kingdom(KingdomName::Mushroom);
        let moon29 = moons.len();
        moons.push(Moon::new("Hidden on the Side of the Cliff", KingdomName::Moon));
        moons[moon29].add_prereq_kingdom(KingdomName::Mushroom);
        let moon30 = moons.len();
        moons.push(Moon::new("Jumping High as a Frog", KingdomName::Moon));
        moons[moon30].add_prereq_kingdom(KingdomName::Mushroom);
        let moon31 = moons.len();
        moons.push(Moon::new("Moon Kingdom Timer Challenge 2", KingdomName::Moon));
        moons[moon31].add_prereq_kingdom(KingdomName::Mushroom);
        let moon32 = moons.len();
        moons.push(Moon::new("Walking on the Moon: Again!", KingdomName::Moon));
        moons[moon32].add_prereq_kingdom(KingdomName::Mushroom);
        moons[moon32].add_prereq_moon(moon21);
        let moon33 = moons.len();
        moons.push(Moon::new("Moon Kingdom Master Cup", KingdomName::Moon));
        moons[moon33].add_prereq_kingdom(KingdomName::Mushroom);
        moons[moon33].add_prereq_moon(moon22);
        let moon34 = moons.len();
        moons.push(Moon::new("Taking Notes: In Low Gravity", KingdomName::Moon));
        moons[moon34].add_prereq_kingdom(KingdomName::Mushroom);
        let moon35 = moons.len();
        moons.push(Moon::new("Center of the Galaxy", KingdomName::Moon));
        moons[moon35].add_prereq_kingdom(KingdomName::Mushroom);
        let moon36 = moons.len();
        moons.push(Moon::new("Edge of the Galaxy", KingdomName::Moon));
        moons[moon36].add_prereq_kingdom(KingdomName::Mushroom);
        let moon37 = moons.len();
        moons.push(Moon::new("Navigating Giant Swings", KingdomName::Moon));
        moons[moon37].add_prereq_kingdom(KingdomName::Mushroom);
        let moon38 = moons.len();
        moons.push(Moon::new("A Swing on Top of a Swing", KingdomName::Moon));
        moons[moon38].add_prereq_kingdom(KingdomName::Mushroom);
        let cap17 = moons.len();
        moons.push(Moon::new("Found with Cap Kingdom Art", KingdomName::Moon));
        moons[cap17].add_prereq_kingdom(KingdomName::Mushroom);
        moons[cap17].add_prereq_kingdom_count(KingdomName::Cap, 2);
        offset.push((moon1, moons.len()));

        // mushroom
        let mushroom1 = moons.len();
        moons.push(Moon::new("Perched on the Castle Roof", KingdomName::Mushroom));
        moons.push(Moon::new("Pops Out of the Tail", KingdomName::Mushroom));
        moons.push(Moon::new("Caught Hopping at Peach's Castle!", KingdomName::Mushroom));
        moons.push(Moon::new("Gardening for Toad: Garden Seed", KingdomName::Mushroom));
        moons.push(Moon::new("Gardening for Toad: Field Seed", KingdomName::Mushroom));
        moons.push(Moon::new("Gardening for Toad: Pasture Seed", KingdomName::Mushroom));
        moons.push(Moon::new("Gardening for Toad: Lake Seed", KingdomName::Mushroom));
        offset.push((mushroom1, moons.len()));

        // dark side
        offset.push((0, 0));

        // darker side
        offset.push((0, 0));

        // setup the ids - initially monotonic
        let mut ids = Vec::new();
        for x in 0..moons.len() {
            ids.push(x);
        }

        Moons {
            moons: moons,
            offset: offset,
            ids: ids,
        }
    }

}
